{
  "schema": "../schema.json",
  "tags": [
    "oracles"
  ],
  "name": "UMATriggerFactory",
  "description": "Be sure to approve the trigger to spend the rewardAmount before calling `deployTrigger`, otherwise the latter will revert. Funds need to be available to the created trigger within its constructor so that it can submit its query to the UMA oracle. This is a utility contract to make it easy to deploy UMATriggers for the Cozy protocol.",
  "eventDecorators": [
    {
      "signature": "TriggerDeployed(address,bytes32,address,string,address,uint256,uint256,uint256)",
      "name": "TriggerDeployed",
      "description": "Hash to mark updated provenance hash. Emitted when the factory deploys a trigger. The `trigger` is the address at which the trigger was deployed. For `triggerConfigId`, see the function of the same name in this contract. For other attributes, see the docs for the params of `deployTrigger` in this contract.",
      "parameterDecorators": [
        {
          "name": "trigger",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        },
        {
          "name": "triggerConfigId",
          "description": "",
          "recommendedTypes": [],
          "indexed": true
        },
        {
          "name": "umaOracleFinder",
          "description": "",
          "recommendedTypes": [],
          "indexed": true
        },
        {
          "name": "query",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        },
        {
          "name": "rewardToken",
          "description": "",
          "recommendedTypes": [],
          "indexed": true
        },
        {
          "name": "rewardAmount",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        },
        {
          "name": "bondAmount",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        },
        {
          "name": "proposalDisputeWindow",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        }
      ]
    }
  ],
  "functionDecorators": [
    {
      "signature": "computeTriggerAddress(string,address,uint256,uint256,uint256,uint256)",
      "name": "computeTriggerAddress",
      "description": "Call this function to determine the address at which a trigger with the supplied configuration would be deployed. See `deployTrigger` for more information on parameters and their meaning.",
      "parameterDecorators": [
        {
          "name": "_query",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "_rewardToken",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "_rewardAmount",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "_bondAmount",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "_proposalDisputeWindow",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "_triggerCount",
          "description": "",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [
        {
          "name": "_address",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "address"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "deployTrigger(string,address,uint256,uint256,uint256)",
      "name": "deployTrigger",
      "description": "Call this function to deploy a UMATrigger.",
      "parameterDecorators": [
        {
          "name": "_query",
          "description": "The query that the trigger will send to the UMA Optimistic Oracle for evaluation.",
          "recommendedTypes": []
        },
        {
          "name": "_rewardToken",
          "description": "The token used to pay the reward to users that propose answers to the query.",
          "recommendedTypes": []
        },
        {
          "name": "_rewardAmount",
          "description": "The amount of rewardToken that will be paid to users who propose an answer to the query.",
          "recommendedTypes": []
        },
        {
          "name": "_bondAmount",
          "description": "The amount of `rewardToken` that must be staked by a user wanting to propose or dispute an answer to the query. See UMA's price dispute workflow for more information. It's recommended that the bond amount be a significant value to deter addresses from proposing malicious, false, or otherwise self-interested answers to the query.",
          "recommendedTypes": []
        },
        {
          "name": "_proposalDisputeWindow",
          "description": "The window of time in seconds within which a proposed answer may be disputed. See UMA's \"customLiveness\" setting for more information. It's recommended that the dispute window be fairly long (12-24 hours), given the difficulty of assessing expected queries (e.g. \"Was protocol ABCD hacked\") and the amount of funds potentially at stake.",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [
        {
          "name": "_trigger",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "address"
        }
      ],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "findAvailableTrigger(string,address,uint256,uint256,uint256)",
      "name": "findAvailableTrigger",
      "description": "Call this function to find triggers with the specified configurations that can be used for new markets in Sets. See `deployTrigger` for more information on parameters and their meaning.",
      "parameterDecorators": [
        {
          "name": "_query",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "_rewardToken",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "_rewardAmount",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "_bondAmount",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "_proposalDisputeWindow",
          "description": "",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "address"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "manager()",
      "name": "manager",
      "description": "The manager of the Cozy protocol.",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "address"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "oracleFinder()",
      "name": "oracleFinder",
      "description": "The UMA contract used to lookup the UMA Optimistic Oracle.",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "address"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "triggerConfigId(string,address,uint256,uint256,uint256)",
      "name": "triggerConfigId",
      "description": "Call this function to determine the identifier of the supplied trigger configuration. This identifier is used both to track the number of triggers deployed with this configuration (see `triggerCount`) and is emitted at the time triggers with that configuration are deployed.",
      "parameterDecorators": [
        {
          "name": "_query",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "_rewardToken",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "_rewardAmount",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "_bondAmount",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "_proposalDisputeWindow",
          "description": "",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "bytes32"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "triggerCount(bytes32)",
      "name": "triggerCount",
      "description": "Maps the triggerConfigId to the number of triggers created with those configs.",
      "parameterDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "uint256"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    }
  ]
}