{"schema":"../schema.json","tags":["tokens","locking","escrows","dao"],"name":"LexLocker","description":"Bilateral escrow for ETH and ERC-20/721 tokens with BentoBox integration.","eventDecorators":[{"signature":"Deposit(bool,bool,address,address,address,address,uint256,uint256,uint256,string)","name":"Deposit","description":"Event for token purchase logging. Events to assist web3 applications.","parameterDecorators":[{"name":"bento","description":"","recommendedTypes":[],"indexed":false},{"name":"nft","description":"","recommendedTypes":[],"indexed":false},{"name":"depositor","description":"","recommendedTypes":[],"indexed":true},{"name":"receiver","description":"","recommendedTypes":[],"indexed":false},{"name":"resolver","description":"","recommendedTypes":[],"indexed":false},{"name":"token","description":"","recommendedTypes":[],"indexed":false},{"name":"sum","description":"","recommendedTypes":[],"indexed":true},{"name":"termination","description":"","recommendedTypes":[],"indexed":false},{"name":"registration","description":"","recommendedTypes":[],"indexed":true},{"name":"details","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"DepositInvoiceSig(address,address)","name":"DepositInvoiceSig","description":"Event for token purchase logging.","parameterDecorators":[{"name":"depositor","description":"","recommendedTypes":[],"indexed":true},{"name":"receiver","description":"","recommendedTypes":[],"indexed":true}]},{"signature":"Lock(uint256,string)","name":"Lock","description":"Event for token purchase logging.","parameterDecorators":[{"name":"registration","description":"","recommendedTypes":[],"indexed":true},{"name":"details","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"RegisterAgreement(uint256,string)","name":"RegisterAgreement","description":"Event for token purchase logging.","parameterDecorators":[{"name":"index","description":"","recommendedTypes":[],"indexed":true},{"name":"agreement","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"RegisterResolver(address,bool,uint256)","name":"RegisterResolver","description":"Event for token purchase logging.","parameterDecorators":[{"name":"resolver","description":"","recommendedTypes":[],"indexed":true},{"name":"active","description":"","recommendedTypes":[],"indexed":true},{"name":"fee","description":"","recommendedTypes":[],"indexed":true}]},{"signature":"Release(uint256)","name":"Release","description":"Event for token purchase logging.","parameterDecorators":[{"name":"registration","description":"","recommendedTypes":[],"indexed":true}]},{"signature":"Resolve(uint256,uint256,uint256,string)","name":"Resolve","description":"Event for token purchase logging.","parameterDecorators":[{"name":"registration","description":"","recommendedTypes":[],"indexed":true},{"name":"depositorAward","description":"","recommendedTypes":[],"indexed":true},{"name":"receiverAward","description":"","recommendedTypes":[],"indexed":true},{"name":"details","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"UpdateLexDAO(address)","name":"UpdateLexDAO","description":"Event for token purchase logging.","parameterDecorators":[{"name":"lexDAO","description":"","recommendedTypes":[],"indexed":true}]},{"signature":"Withdraw(uint256)","name":"Withdraw","description":"Event for token purchase logging.","parameterDecorators":[{"name":"registration","description":"","recommendedTypes":[],"indexed":true}]}],"functionDecorators":[{"signature":"DOMAIN_SEPARATOR()","name":"DOMAIN_SEPARATOR","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bytes32"}],"emittableEvents":[],"readOnly":true},{"signature":"INVOICE_HASH()","name":"INVOICE_HASH","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bytes32"}],"emittableEvents":[],"readOnly":true},{"signature":"agreements(uint256)","name":"agreements","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"string"}],"emittableEvents":[],"readOnly":true},{"signature":"deposit(address,address,address,uint256[],uint256,bool,string)","name":"deposit","description":"Deposits tokens (ERC-20/721) into escrow - locked funds can be released by `msg.sender` `depositor` - both parties can {lock} for `resolver`.","parameterDecorators":[{"name":"receiver","description":"The account that receives funds.","recommendedTypes":[]},{"name":"resolver","description":"The account that unlock funds.","recommendedTypes":[]},{"name":"token","description":"The asset used for funds.","recommendedTypes":[]},{"name":"value","description":"The amount of funds in milestones - if `nft`, the 'tokenId' in first value is used.","recommendedTypes":[]},{"name":"termination","description":"Unix time upon which `depositor` can claim back funds.","recommendedTypes":[]},{"name":"nft","description":"If 'false', ERC-20 is assumed, otherwise, non-fungible asset.","recommendedTypes":[]},{"name":"details","description":"Describes context of escrow - stamped into event.","recommendedTypes":[]}],"returnDecorators":[{"name":"registration","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":false},{"signature":"depositBento(address,address,address,uint256[],uint256,bool,string)","name":"depositBento","description":"Deposits tokens (ERC-20/721) into BentoBox escrow - locked funds can be released by `msg.sender` `depositor` - both parties can {lock} for `resolver`.","parameterDecorators":[{"name":"receiver","description":"The account that receives funds.","recommendedTypes":[]},{"name":"resolver","description":"The account that unlock funds.","recommendedTypes":[]},{"name":"token","description":"The asset used for funds (note: NFT not supported in BentoBox).","recommendedTypes":[]},{"name":"value","description":"The amount of funds in milestones (note: locker converts to 'shares').","recommendedTypes":[]},{"name":"termination","description":"Unix time upon which `depositor` can claim back funds.","recommendedTypes":[]},{"name":"wrapBento","description":"If 'false', raw ERC-20 is assumed, otherwise, BentoBox 'shares'.","recommendedTypes":[]},{"name":"details","description":"Describes context of escrow - stamped into event.","recommendedTypes":[]}],"returnDecorators":[{"name":"registration","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":false},{"signature":"depositInvoiceSig(address,address,address,uint256[],uint256,bool,bool,bool,string,uint8,bytes32,bytes32)","name":"depositInvoiceSig","description":"Validates deposit request 'invoice' for locker escrow.","parameterDecorators":[{"name":"receiver","description":"The account that receives funds.","recommendedTypes":[]},{"name":"resolver","description":"The account that unlock funds.","recommendedTypes":[]},{"name":"token","description":"The asset used for funds.","recommendedTypes":[]},{"name":"value","description":"The amount of funds in milestones - if `nft`, the 'tokenId'.","recommendedTypes":[]},{"name":"termination","description":"Unix time upon which `depositor` can claim back funds.","recommendedTypes":[]},{"name":"bentoBoxed","description":"If 'false', regular deposit is assumed, otherwise, BentoBox.","recommendedTypes":[]},{"name":"nft","description":"If 'false', ERC-20 is assumed, otherwise, non-fungible asset.","recommendedTypes":[]},{"name":"wrapBento","description":"If 'false', raw ERC-20 is assumed, otherwise, BentoBox 'shares'.","recommendedTypes":[]},{"name":"details","description":"Describes context of escrow - stamped into event.","recommendedTypes":[]},{"name":"v","description":"The recovery byte of the signature.","recommendedTypes":[]},{"name":"r","description":"Half of the ECDSA signature pair.","recommendedTypes":[]},{"name":"s","description":"Half of the ECDSA signature pair.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"lexDAO()","name":"lexDAO","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"lock(uint256,string)","name":"lock","description":"Locks escrowed assets for resolution - can only be called by locker parties.","parameterDecorators":[{"name":"registration","description":"The index of escrow deposit.","recommendedTypes":[]},{"name":"details","description":"Description of lock action (note: can link to secure dispute details, etc.).","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"lockers(uint256)","name":"lockers","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"bento","description":"","recommendedTypes":[],"solidityType":"bool"},{"name":"nft","description":"","recommendedTypes":[],"solidityType":"bool"},{"name":"locked","description":"","recommendedTypes":[],"solidityType":"bool"},{"name":"depositor","description":"","recommendedTypes":[],"solidityType":"address"},{"name":"receiver","description":"","recommendedTypes":[],"solidityType":"address"},{"name":"resolver","description":"","recommendedTypes":[],"solidityType":"address"},{"name":"token","description":"","recommendedTypes":[],"solidityType":"address"},{"name":"currentMilestone","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"paid","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"sum","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"termination","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"multicall(bytes[])","name":"multicall","description":"Enables calling multiple methods in a single call to this contract.","parameterDecorators":[{"name":"data","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"results","description":"","recommendedTypes":[],"solidityType":"bytes[]"}],"emittableEvents":[],"readOnly":false},{"signature":"permitThis(address,uint256,uint256,uint8,bytes32,bytes32)","name":"permitThis","description":"Provides EIP-2612 signed approval for this contract to spend user tokens.","parameterDecorators":[{"name":"token","description":"Address of ERC-20 token.","recommendedTypes":[]},{"name":"amount","description":"Token amount to grant spending right over.","recommendedTypes":[]},{"name":"deadline","description":"Termination for signed approval in Unix time.","recommendedTypes":[]},{"name":"v","description":"The recovery byte of the signature.","recommendedTypes":[]},{"name":"r","description":"Half of the ECDSA signature pair.","recommendedTypes":[]},{"name":"s","description":"Half of the ECDSA signature pair.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"permitThisAllowed(address,uint256,uint256,uint8,bytes32,bytes32)","name":"permitThisAllowed","description":"Provides DAI-derived signed approval for this contract to spend user tokens.","parameterDecorators":[{"name":"token","description":"Address of ERC-20 token.","recommendedTypes":[]},{"name":"nonce","description":"Token owner's nonce - increases at each call to {permit}.","recommendedTypes":[]},{"name":"expiry","description":"Termination for signed approval in Unix time.","recommendedTypes":[]},{"name":"v","description":"The recovery byte of the signature.","recommendedTypes":[]},{"name":"r","description":"Half of the ECDSA signature pair.","recommendedTypes":[]},{"name":"s","description":"Half of the ECDSA signature pair.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"registerAgreement(uint256,string)","name":"registerAgreement","description":"Protocol for LexDAO to maintain agreements that can be stamped into lockers.","parameterDecorators":[{"name":"index","description":"# to register agreement under.","recommendedTypes":[]},{"name":"agreement","description":"Text or link to agreement, etc. - this allows for amendments.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"registerResolver(bool,uint8)","name":"registerResolver","description":"Registers an account to serve as a potential `resolver`.","parameterDecorators":[{"name":"active","description":"Tracks willingness to serve - if 'true', can be joined to a locker.","recommendedTypes":[]},{"name":"fee","description":"The divisor to determine resolution fee - e.g., if '20', fee is 5% of locker.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"release(uint256)","name":"release","description":"Releases escrowed assets to designated `receiver` - can only be called by `depositor` if not `locked` - can be called after `termination` as optional extension.","parameterDecorators":[{"name":"registration","description":"The index of escrow deposit.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"resolve(uint256,uint256,uint256,string)","name":"resolve","description":"","parameterDecorators":[{"name":"registration","description":"The registration index of escrow deposit.","recommendedTypes":[]},{"name":"depositorAward","description":"The sum given to `depositor`.","recommendedTypes":[]},{"name":"receiverAward","description":"The sum given to `receiver`.","recommendedTypes":[]},{"name":"details","description":"Description of resolution (note: can link to secure judgment details, etc.).","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"resolvers(address)","name":"resolvers","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"active","description":"","recommendedTypes":[],"solidityType":"bool"},{"name":"fee","description":"","recommendedTypes":[],"solidityType":"uint8"}],"emittableEvents":[],"readOnly":true},{"signature":"setBentoApproval(uint8,bytes32,bytes32)","name":"setBentoApproval","description":"Provides way to sign approval for `bento` spends by locker.","parameterDecorators":[{"name":"v","description":"The recovery byte of the signature.","recommendedTypes":[]},{"name":"r","description":"Half of the ECDSA signature pair.","recommendedTypes":[]},{"name":"s","description":"Half of the ECDSA signature pair.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"updateLexDAO(address)","name":"updateLexDAO","description":"Protocol for LexDAO to update role.","parameterDecorators":[{"name":"_lexDAO","description":"Account to assign role to.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"withdraw(uint256)","name":"withdraw","description":"","parameterDecorators":[{"name":"registration","description":"The index of escrow deposit.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false}]}