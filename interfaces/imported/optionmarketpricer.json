{"schema":"../schema.json","tags":[],"name":"OptionMarketPricer","description":"OptionMarketPricer. Logic for working out the price of an option. Includes the IV impact of the trade, the fee components and premium.","eventDecorators":[],"functionDecorators":[{"signature":"getFee(tuple(uint256,uint256,uint256,uint256,uint256,uint256,int256,int256,uint256,uint256),uint256,uint256,uint256)","name":"getFee","description":"Calculate the fee for a trade.","parameterDecorators":[{"name":"pricingGlobals","description":"The PricingGlobals.","recommendedTypes":[],"parameters":[{"name":"optionPriceFeeCoefficient","description":"","type":"uint256"},{"name":"spotPriceFeeCoefficient","description":"","type":"uint256"},{"name":"vegaFeeCoefficient","description":"","type":"uint256"},{"name":"vegaNormFactor","description":"","type":"uint256"},{"name":"standardSize","description":"","type":"uint256"},{"name":"skewAdjustmentFactor","description":"","type":"uint256"},{"name":"rateAndCarry","description":"","type":"int256"},{"name":"minDelta","description":"","type":"int256"},{"name":"volatilityCutoff","description":"","type":"uint256"},{"name":"spotPrice","description":"","type":"uint256"}]},{"name":"amount","description":"The amount of options being traded.","recommendedTypes":[]},{"name":"optionPrice","description":"The fair price for one option.","recommendedTypes":[]},{"name":"vegaUtil","description":"The vega utilisation of the LiquidityPool.","recommendedTypes":[]}],"returnDecorators":[{"name":"fee","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"getPremium(tuple(bool,uint256,uint256,uint256,tuple),tuple(uint256,int256,int256,int256),tuple(uint256,uint256,uint256,uint256,uint256,uint256,int256,int256,uint256,uint256))","name":"getPremium","description":"","parameterDecorators":[{"name":"trade","description":"","recommendedTypes":[],"parameters":[{"name":"isBuy","description":"","type":"bool"},{"name":"amount","description":"","type":"uint256"},{"name":"vol","description":"","type":"uint256"},{"name":"expiry","description":"","type":"uint256"},{"name":"liquidity","description":"","type":"tuple"}]},{"name":"pricing","description":"","recommendedTypes":[],"parameters":[{"name":"optionPrice","description":"","type":"uint256"},{"name":"preTradeAmmNetStdVega","description":"","type":"int256"},{"name":"postTradeAmmNetStdVega","description":"","type":"int256"},{"name":"callDelta","description":"","type":"int256"}]},{"name":"pricingGlobals","description":"","recommendedTypes":[],"parameters":[{"name":"optionPriceFeeCoefficient","description":"","type":"uint256"},{"name":"spotPriceFeeCoefficient","description":"","type":"uint256"},{"name":"vegaFeeCoefficient","description":"","type":"uint256"},{"name":"vegaNormFactor","description":"","type":"uint256"},{"name":"standardSize","description":"","type":"uint256"},{"name":"skewAdjustmentFactor","description":"","type":"uint256"},{"name":"rateAndCarry","description":"","type":"int256"},{"name":"minDelta","description":"","type":"int256"},{"name":"volatilityCutoff","description":"","type":"uint256"},{"name":"spotPrice","description":"","type":"uint256"}]}],"returnDecorators":[{"name":"premium","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"getVegaUtil(tuple(bool,uint256,uint256,uint256,tuple),tuple(uint256,int256,int256,int256),tuple(uint256,uint256,uint256,uint256,uint256,uint256,int256,int256,uint256,uint256))","name":"getVegaUtil","description":"","parameterDecorators":[{"name":"trade","description":"","recommendedTypes":[],"parameters":[{"name":"isBuy","description":"","type":"bool"},{"name":"amount","description":"","type":"uint256"},{"name":"vol","description":"","type":"uint256"},{"name":"expiry","description":"","type":"uint256"},{"name":"liquidity","description":"","type":"tuple"}]},{"name":"pricing","description":"","recommendedTypes":[],"parameters":[{"name":"optionPrice","description":"","type":"uint256"},{"name":"preTradeAmmNetStdVega","description":"","type":"int256"},{"name":"postTradeAmmNetStdVega","description":"","type":"int256"},{"name":"callDelta","description":"","type":"int256"}]},{"name":"pricingGlobals","description":"","recommendedTypes":[],"parameters":[{"name":"optionPriceFeeCoefficient","description":"","type":"uint256"},{"name":"spotPriceFeeCoefficient","description":"","type":"uint256"},{"name":"vegaFeeCoefficient","description":"","type":"uint256"},{"name":"vegaNormFactor","description":"","type":"uint256"},{"name":"standardSize","description":"","type":"uint256"},{"name":"skewAdjustmentFactor","description":"","type":"uint256"},{"name":"rateAndCarry","description":"","type":"int256"},{"name":"minDelta","description":"","type":"int256"},{"name":"volatilityCutoff","description":"","type":"uint256"},{"name":"spotPrice","description":"","type":"uint256"}]}],"returnDecorators":[{"name":"vegaUtil","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"init(address,address)","name":"init","description":"Initialize the contract.","parameterDecorators":[{"name":"_optionMarket","description":"OptionMarket address.","recommendedTypes":[]},{"name":"_greekCache","description":"OptionGreekCache address.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"ivImpactForTrade(tuple(uint256,uint256,uint256,uint256,uint256,uint256,uint256,uint256),tuple(bool,uint256,uint256,uint256,tuple),tuple(uint256,uint256,uint256,uint256,uint256,uint256,int256,int256,uint256,uint256),uint256)","name":"ivImpactForTrade","description":"","parameterDecorators":[{"name":"listing","description":"","recommendedTypes":[],"parameters":[{"name":"id","description":"","type":"uint256"},{"name":"strike","description":"","type":"uint256"},{"name":"skew","description":"","type":"uint256"},{"name":"longCall","description":"","type":"uint256"},{"name":"shortCall","description":"","type":"uint256"},{"name":"longPut","description":"","type":"uint256"},{"name":"shortPut","description":"","type":"uint256"},{"name":"boardId","description":"","type":"uint256"}]},{"name":"trade","description":"","recommendedTypes":[],"parameters":[{"name":"isBuy","description":"","type":"bool"},{"name":"amount","description":"","type":"uint256"},{"name":"vol","description":"","type":"uint256"},{"name":"expiry","description":"","type":"uint256"},{"name":"liquidity","description":"","type":"tuple"}]},{"name":"pricingGlobals","description":"","recommendedTypes":[],"parameters":[{"name":"optionPriceFeeCoefficient","description":"","type":"uint256"},{"name":"spotPriceFeeCoefficient","description":"","type":"uint256"},{"name":"vegaFeeCoefficient","description":"","type":"uint256"},{"name":"vegaNormFactor","description":"","type":"uint256"},{"name":"standardSize","description":"","type":"uint256"},{"name":"skewAdjustmentFactor","description":"","type":"uint256"},{"name":"rateAndCarry","description":"","type":"int256"},{"name":"minDelta","description":"","type":"int256"},{"name":"volatilityCutoff","description":"","type":"uint256"},{"name":"spotPrice","description":"","type":"uint256"}]},{"name":"boardBaseIv","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"param1","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"updateCacheAndGetTotalCost(tuple(uint256,uint256,uint256,uint256,uint256,uint256,uint256,uint256),tuple(bool,uint256,uint256,uint256,tuple),tuple(uint256,uint256,uint256,uint256,uint256,uint256,int256,int256,uint256,uint256),uint256)","name":"updateCacheAndGetTotalCost","description":"","parameterDecorators":[{"name":"listing","description":"","recommendedTypes":[],"parameters":[{"name":"id","description":"","type":"uint256"},{"name":"strike","description":"","type":"uint256"},{"name":"skew","description":"","type":"uint256"},{"name":"longCall","description":"","type":"uint256"},{"name":"shortCall","description":"","type":"uint256"},{"name":"longPut","description":"","type":"uint256"},{"name":"shortPut","description":"","type":"uint256"},{"name":"boardId","description":"","type":"uint256"}]},{"name":"trade","description":"","recommendedTypes":[],"parameters":[{"name":"isBuy","description":"","type":"bool"},{"name":"amount","description":"","type":"uint256"},{"name":"vol","description":"","type":"uint256"},{"name":"expiry","description":"","type":"uint256"},{"name":"liquidity","description":"","type":"tuple"}]},{"name":"pricingGlobals","description":"","recommendedTypes":[],"parameters":[{"name":"optionPriceFeeCoefficient","description":"","type":"uint256"},{"name":"spotPriceFeeCoefficient","description":"","type":"uint256"},{"name":"vegaFeeCoefficient","description":"","type":"uint256"},{"name":"vegaNormFactor","description":"","type":"uint256"},{"name":"standardSize","description":"","type":"uint256"},{"name":"skewAdjustmentFactor","description":"","type":"uint256"},{"name":"rateAndCarry","description":"","type":"int256"},{"name":"minDelta","description":"","type":"int256"},{"name":"volatilityCutoff","description":"","type":"uint256"},{"name":"spotPrice","description":"","type":"uint256"}]},{"name":"boardBaseIv","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"totalCost","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"newBaseIv","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"newSkew","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":false}]}