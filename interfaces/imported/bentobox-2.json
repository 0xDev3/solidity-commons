{"schema":"../schema.json","tags":["tokens","flash loans","loans","yield","vaults"],"name":"BentoBoxV1","description":"BentoBox. The BentoBox is a vault for tokens. The stored tokens can be flash loaned and used in strategies. Yield from this will go to the token depositors. Rebasing tokens ARE NOT supported and WILL cause loss of funds. Any funds transfered directly onto the BentoBox will be lost, use the deposit function instead.","eventDecorators":[{"signature":"LogDeploy(address,bytes,address)","name":"LogDeploy","description":"emitted when a new test run was called.","parameterDecorators":[{"name":"masterContract","description":"","recommendedTypes":[],"indexed":true},{"name":"data","description":"","recommendedTypes":[],"indexed":false},{"name":"cloneAddress","description":"","recommendedTypes":[],"indexed":true}]},{"signature":"LogDeposit(address,address,address,uint256,uint256)","name":"LogDeposit","description":"emitted when a new test run was called.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[],"indexed":true},{"name":"from","description":"","recommendedTypes":[],"indexed":true},{"name":"to","description":"","recommendedTypes":[],"indexed":true},{"name":"amount","description":"","recommendedTypes":[],"indexed":false},{"name":"share","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"LogFlashLoan(address,address,uint256,uint256,address)","name":"LogFlashLoan","description":"emitted when a new test run was called.","parameterDecorators":[{"name":"borrower","description":"","recommendedTypes":[],"indexed":true},{"name":"token","description":"","recommendedTypes":[],"indexed":true},{"name":"amount","description":"","recommendedTypes":[],"indexed":false},{"name":"feeAmount","description":"","recommendedTypes":[],"indexed":false},{"name":"receiver","description":"","recommendedTypes":[],"indexed":true}]},{"signature":"LogRegisterProtocol(address)","name":"LogRegisterProtocol","description":"emitted when a new test run was called.","parameterDecorators":[{"name":"protocol","description":"","recommendedTypes":[],"indexed":true}]},{"signature":"LogSetMasterContractApproval(address,address,bool)","name":"LogSetMasterContractApproval","description":"emitted when a new test run was called.","parameterDecorators":[{"name":"masterContract","description":"","recommendedTypes":[],"indexed":true},{"name":"user","description":"","recommendedTypes":[],"indexed":true},{"name":"approved","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"LogStrategyDivest(address,uint256)","name":"LogStrategyDivest","description":"emitted when a new test run was called.","parameterDecorators":[{"name":"orderID","description":"uint that identifies a specific order.","recommendedTypes":[],"indexed":true},{"name":"orderTime","description":"uint that specifies that point in time when the order arrived.","recommendedTypes":[],"indexed":false}]},{"signature":"LogStrategyInvest(address,uint256)","name":"LogStrategyInvest","description":"emitted when a new test run was called.","parameterDecorators":[{"name":"orderID","description":"uint that identifies a specific order.","recommendedTypes":[],"indexed":true},{"name":"orderTime","description":"uint that specifies that point in time when the order arrived.","recommendedTypes":[],"indexed":false}]},{"signature":"LogStrategyLoss(address,uint256)","name":"LogStrategyLoss","description":"emitted when a new test run was called.","parameterDecorators":[{"name":"orderID","description":"uint that identifies a specific order.","recommendedTypes":[],"indexed":true},{"name":"orderTime","description":"uint that specifies that point in time when the order arrived.","recommendedTypes":[],"indexed":false}]},{"signature":"LogStrategyProfit(address,uint256)","name":"LogStrategyProfit","description":"emitted when a new test run was called.","parameterDecorators":[{"name":"orderID","description":"uint that identifies a specific order.","recommendedTypes":[],"indexed":true},{"name":"orderTime","description":"uint that specifies that point in time when the order arrived.","recommendedTypes":[],"indexed":false}]},{"signature":"LogStrategyQueued(address,address)","name":"LogStrategyQueued","description":"emitted when a new test run was called.","parameterDecorators":[{"name":"orderID","description":"uint that identifies a specific order.","recommendedTypes":[],"indexed":true},{"name":"orderTime","description":"uint that specifies that point in time when the order arrived.","recommendedTypes":[],"indexed":true}]},{"signature":"LogStrategySet(address,address)","name":"LogStrategySet","description":"emitted when a new test run was called.","parameterDecorators":[{"name":"orderID","description":"uint that identifies a specific order.","recommendedTypes":[],"indexed":true},{"name":"orderTime","description":"uint that specifies that point in time when the order arrived.","recommendedTypes":[],"indexed":true}]},{"signature":"LogStrategyTargetPercentage(address,uint256)","name":"LogStrategyTargetPercentage","description":"emitted when a new test run was called.","parameterDecorators":[{"name":"orderID","description":"uint that identifies a specific order.","recommendedTypes":[],"indexed":true},{"name":"orderTime","description":"uint that specifies that point in time when the order arrived.","recommendedTypes":[],"indexed":false}]},{"signature":"LogTransfer(address,address,address,uint256)","name":"LogTransfer","description":"emitted when a new test run was called.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[],"indexed":true},{"name":"from","description":"","recommendedTypes":[],"indexed":true},{"name":"to","description":"","recommendedTypes":[],"indexed":true},{"name":"share","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"LogWhiteListMasterContract(address,bool)","name":"LogWhiteListMasterContract","description":"emitted when a new test run was called.","parameterDecorators":[{"name":"orderID","description":"uint that identifies a specific order.","recommendedTypes":[],"indexed":true},{"name":"orderTime","description":"uint that specifies that point in time when the order arrived.","recommendedTypes":[],"indexed":false}]},{"signature":"LogWithdraw(address,address,address,uint256,uint256)","name":"LogWithdraw","description":"emitted when a new test run was called.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[],"indexed":true},{"name":"from","description":"","recommendedTypes":[],"indexed":true},{"name":"to","description":"","recommendedTypes":[],"indexed":true},{"name":"amount","description":"","recommendedTypes":[],"indexed":false},{"name":"share","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"OwnershipTransferred(address,address)","name":"OwnershipTransferred","description":"emitted when a new test run was called.","parameterDecorators":[{"name":"orderID","description":"uint that identifies a specific order.","recommendedTypes":[],"indexed":true},{"name":"orderTime","description":"uint that specifies that point in time when the order arrived.","recommendedTypes":[],"indexed":true}]}],"functionDecorators":[{"signature":"balanceOf(address,address)","name":"balanceOf","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]},{"name":"param1","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"batch(bytes[],bool)","name":"batch","description":"","parameterDecorators":[{"name":"calls","description":"","recommendedTypes":[]},{"name":"revertOnFail","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"successes","description":"","recommendedTypes":[],"solidityType":"bool[]"},{"name":"results","description":"","recommendedTypes":[],"solidityType":"bytes[]"}],"emittableEvents":[],"readOnly":false},{"signature":"batchFlashLoan(address,address[],address[],uint256[],bytes)","name":"batchFlashLoan","description":"Support for batched flashloans. Useful to request multiple different `tokens` in a single transaction.","parameterDecorators":[{"name":"borrower","description":"The address of the contract that implements and conforms to `IBatchFlashBorrower` and handles the flashloan.","recommendedTypes":[]},{"name":"receivers","description":"An array of the token receivers. A one-to-one mapping with `tokens` and `amounts`.","recommendedTypes":[]},{"name":"tokens","description":"The addresses of the tokens.","recommendedTypes":[]},{"name":"amounts","description":"of the tokens for each receiver.","recommendedTypes":[]},{"name":"data","description":"The calldata to pass to the `borrower` contract.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"claimOwnership()","name":"claimOwnership","description":"","parameterDecorators":[],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"deploy(address,bytes,bool)","name":"deploy","description":"","parameterDecorators":[{"name":"masterContract","description":"","recommendedTypes":[]},{"name":"data","description":"","recommendedTypes":[]},{"name":"useCreate2","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"deposit(address,address,address,uint256,uint256)","name":"deposit","description":"Deposit an amount of `token` represented in either `amount` or `share`.","parameterDecorators":[{"name":"token_","description":"The ERC-20 token to deposit.","recommendedTypes":[]},{"name":"from","description":"which account to pull the tokens.","recommendedTypes":[]},{"name":"to","description":"which account to push the tokens.","recommendedTypes":[]},{"name":"amount","description":"Token amount in native representation to deposit.","recommendedTypes":[]},{"name":"share","description":"Token amount represented in shares to deposit. Takes precedence over `amount`.","recommendedTypes":[]}],"returnDecorators":[{"name":"amountOut","description":"The amount deposited.","recommendedTypes":[],"solidityType":"uint256"},{"name":"shareOut","description":"The deposited amount repesented in shares.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":false},{"signature":"flashLoan(address,address,address,uint256,bytes)","name":"flashLoan","description":"Flashloan ability.","parameterDecorators":[{"name":"borrower","description":"The address of the contract that implements and conforms to `IFlashBorrower` and handles the flashloan.","recommendedTypes":[]},{"name":"receiver","description":"Address of the token receiver.","recommendedTypes":[]},{"name":"token","description":"The address of the token to receive.","recommendedTypes":[]},{"name":"amount","description":"of the tokens to receive.","recommendedTypes":[]},{"name":"data","description":"The calldata to pass to the `borrower` contract.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"harvest(address,bool,uint256)","name":"harvest","description":"The actual process of yield farming. Executes the strategy of `token`. Optionally does housekeeping if `balance` is true. `maxChangeAmount` is relevant for skimming or withdrawing if `balance` is true.","parameterDecorators":[{"name":"token","description":"The address of the token for which a strategy is deployed.","recommendedTypes":[]},{"name":"balance","description":"True if housekeeping should be done.","recommendedTypes":[]},{"name":"maxChangeAmount","description":"The maximum amount for either pulling or pushing from/to the `IStrategy` contract.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"masterContractApproved(address,address)","name":"masterContractApproved","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]},{"name":"param1","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"masterContractOf(address)","name":"masterContractOf","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"nonces(address)","name":"nonces","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"owner()","name":"owner","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"pendingOwner()","name":"pendingOwner","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"pendingStrategy(address)","name":"pendingStrategy","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"permitToken(address,address,address,uint256,uint256,uint8,bytes32,bytes32)","name":"permitToken","description":"","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[]},{"name":"from","description":"","recommendedTypes":[]},{"name":"to","description":"","recommendedTypes":[]},{"name":"amount","description":"","recommendedTypes":[]},{"name":"deadline","description":"","recommendedTypes":[]},{"name":"v","description":"","recommendedTypes":[]},{"name":"r","description":"","recommendedTypes":[]},{"name":"s","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"registerProtocol()","name":"registerProtocol","description":"","parameterDecorators":[],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setMasterContractApproval(address,address,bool,uint8,bytes32,bytes32)","name":"setMasterContractApproval","description":"","parameterDecorators":[{"name":"user","description":"","recommendedTypes":[]},{"name":"masterContract","description":"","recommendedTypes":[]},{"name":"approved","description":"","recommendedTypes":[]},{"name":"v","description":"","recommendedTypes":[]},{"name":"r","description":"","recommendedTypes":[]},{"name":"s","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setStrategy(address,address)","name":"setStrategy","description":"Sets the contract address of a new strategy that conforms to `IStrategy` for `token`. Must be called twice with the same arguments. A new strategy becomes pending first and can be activated once `STRATEGY_DELAY` is over. Only the owner of this contract is allowed to change this.","parameterDecorators":[{"name":"token","description":"The address of the token that maps to a strategy to change.","recommendedTypes":[]},{"name":"newStrategy","description":"The address of the contract that conforms to `IStrategy`.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setStrategyTargetPercentage(address,uint64)","name":"setStrategyTargetPercentage","description":"Sets the target percentage of the strategy for `token`. Only the owner of this contract is allowed to change this.","parameterDecorators":[{"name":"token","description":"The address of the token that maps to a strategy to change.","recommendedTypes":[]},{"name":"targetPercentage_","description":"The new target in percent. Must be lesser or equal to `MAX_TARGET_PERCENTAGE`.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"strategy(address)","name":"strategy","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"strategyData(address)","name":"strategyData","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"strategyStartDate","description":"","recommendedTypes":[],"solidityType":"uint64"},{"name":"targetPercentage","description":"","recommendedTypes":[],"solidityType":"uint64"},{"name":"balance","description":"","recommendedTypes":[],"solidityType":"uint128"}],"emittableEvents":[],"readOnly":true},{"signature":"toAmount(address,uint256,bool)","name":"toAmount","description":"Helper function represent shares back into the `token` amount.","parameterDecorators":[{"name":"token","description":"The ERC-20 token.","recommendedTypes":[]},{"name":"share","description":"The amount of shares.","recommendedTypes":[]},{"name":"roundUp","description":"If the result should be rounded up.","recommendedTypes":[]}],"returnDecorators":[{"name":"amount","description":"The share amount back into native representation.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"toShare(address,uint256,bool)","name":"toShare","description":"Helper function to represent an `amount` of `token` in shares.","parameterDecorators":[{"name":"token","description":"The ERC-20 token.","recommendedTypes":[]},{"name":"amount","description":"The `token` amount.","recommendedTypes":[]},{"name":"roundUp","description":"If the result `share` should be rounded up.","recommendedTypes":[]}],"returnDecorators":[{"name":"share","description":"The token amount represented in shares.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"totals(address)","name":"totals","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"elastic","description":"","recommendedTypes":[],"solidityType":"uint128"},{"name":"base","description":"","recommendedTypes":[],"solidityType":"uint128"}],"emittableEvents":[],"readOnly":true},{"signature":"transfer(address,address,address,uint256)","name":"transfer","description":"Transfer shares from a user account to another one.","parameterDecorators":[{"name":"token","description":"The ERC-20 token to transfer.","recommendedTypes":[]},{"name":"from","description":"which user to pull the tokens.","recommendedTypes":[]},{"name":"to","description":"which user to push the tokens.","recommendedTypes":[]},{"name":"share","description":"The amount of `token` in shares.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"transferMultiple(address,address,address[],uint256[])","name":"transferMultiple","description":"Transfer shares from a user account to multiple other ones.","parameterDecorators":[{"name":"token","description":"The ERC-20 token to transfer.","recommendedTypes":[]},{"name":"from","description":"which user to pull the tokens.","recommendedTypes":[]},{"name":"tos","description":"The receivers of the tokens.","recommendedTypes":[]},{"name":"shares","description":"The amount of `token` in shares for each receiver in `tos`.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"transferOwnership(address,bool,bool)","name":"transferOwnership","description":"","parameterDecorators":[{"name":"newOwner","description":"","recommendedTypes":[]},{"name":"direct","description":"","recommendedTypes":[]},{"name":"renounce","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"whitelistMasterContract(address,bool)","name":"whitelistMasterContract","description":"","parameterDecorators":[{"name":"masterContract","description":"","recommendedTypes":[]},{"name":"approved","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"whitelistedMasterContracts(address)","name":"whitelistedMasterContracts","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"withdraw(address,address,address,uint256,uint256)","name":"withdraw","description":"Withdraws an amount of `token` from a user account.","parameterDecorators":[{"name":"token_","description":"The ERC-20 token to withdraw.","recommendedTypes":[]},{"name":"from","description":"which user to pull the tokens.","recommendedTypes":[]},{"name":"to","description":"which user to push the tokens.","recommendedTypes":[]},{"name":"amount","description":"of tokens. Either one of `amount` or `share` needs to be supplied.","recommendedTypes":[]},{"name":"share","description":"Like above, but `share` takes precedence over `amount`.","recommendedTypes":[]}],"returnDecorators":[{"name":"amountOut","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"shareOut","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":false}]}