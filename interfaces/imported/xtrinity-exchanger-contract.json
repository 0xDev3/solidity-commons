{"schema":"../schema.json","tags":["flash loans","loans","liquidity"],"name":"XTrinity","description":"XTrinity exchanger contract. this is an implementation of a split exchange that takes the input amount and proposes a better price given the liquidity obtained from multiple AMM DEX exchanges considering their liquidity at the moment might also help mitigating a flashloan attack.","eventDecorators":[{"signature":"OwnershipTransferred(address,address)","name":"OwnershipTransferred","description":"Emitted when a validator is unenrolled from the validator set. Triggers on new deposit call.","parameterDecorators":[{"name":"previousOwner","description":"","recommendedTypes":[],"indexed":true},{"name":"newOwner","description":"","recommendedTypes":[],"indexed":true}]}],"functionDecorators":[{"signature":"DAI_ADDRESS()","name":"DAI_ADDRESS","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"USDC_ADDRESS()","name":"USDC_ADDRESS","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"USDT_ADDRESS()","name":"USDT_ADDRESS","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"_swapOnCurve(address,address,uint256)","name":"_swapOnCurve","description":"","parameterDecorators":[{"name":"fromToken","description":"","recommendedTypes":[]},{"name":"destToken","description":"","recommendedTypes":[]},{"name":"amount","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"returnAmount","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":false},{"signature":"_swapOnUniswapV2Internal(address,address,uint256,address)","name":"_swapOnUniswapV2Internal","description":"","parameterDecorators":[{"name":"fromToken","description":"","recommendedTypes":[]},{"name":"destToken","description":"","recommendedTypes":[]},{"name":"amount","description":"","recommendedTypes":[]},{"name":"factory","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"returnAmount","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":false},{"signature":"curve()","name":"curve","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"curveIndex(address)","name":"curveIndex","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"int128"}],"emittableEvents":[],"readOnly":true},{"signature":"exchanges(uint256)","name":"exchanges","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"getFullReserves(address,address)","name":"getFullReserves","description":"Method to get the full reserves for the 2 token to be exchanged plus the proposed distribution to obtain the best price.","parameterDecorators":[{"name":"fromToken","description":"","recommendedTypes":[]},{"name":"toToken","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"fromTotal","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"destTotal","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"dist","description":"","recommendedTypes":[],"solidityType":"uint256[3]"},{"name":"res","description":"","recommendedTypes":[],"solidityType":"uint256[2][3]"}],"emittableEvents":[],"readOnly":true},{"signature":"getReserves(address,address,address)","name":"getReserves","description":"universal method to get the given AMM address reserves.","parameterDecorators":[{"name":"fromToken","description":"","recommendedTypes":[]},{"name":"toToken","description":"","recommendedTypes":[]},{"name":"factory","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"reserveA","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"reserveB","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"get_D(uint256[3],uint256)","name":"get_D","description":"curve-specific maths.","parameterDecorators":[{"name":"xp","description":"","recommendedTypes":[]},{"name":"amp","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"get_dx_underlying(uint256,uint256,uint256)","name":"get_dx_underlying","description":"curve-specific maths - this method does not exists in the curve pool but we recreated it.","parameterDecorators":[{"name":"i","description":"","recommendedTypes":[]},{"name":"j","description":"","recommendedTypes":[]},{"name":"dy","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"get_y(uint256,uint256,uint256,uint256[3])","name":"get_y","description":"curve-specific maths.","parameterDecorators":[{"name":"i","description":"","recommendedTypes":[]},{"name":"j","description":"","recommendedTypes":[]},{"name":"x","description":"","recommendedTypes":[]},{"name":"xp_","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"init()","name":"init","description":"initializer method instead of a constructor - though we don't normally use proxy here we still might want to.","parameterDecorators":[],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"isOwner()","name":"isOwner","description":"Returns true if the caller is the current owner.","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"minPc()","name":"minPc","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"owner()","name":"owner","description":"Returns the address of the current owner.","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"quote(address,address,uint256)","name":"quote","description":"Method to get a best quote between the direct and through the WETH - as there is more liquidity between token/ETH than token0/token1.","parameterDecorators":[{"name":"fromToken","description":"","recommendedTypes":[]},{"name":"toToken","description":"","recommendedTypes":[]},{"name":"amount","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"returnAmount","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"swapAmountsIn","description":"","recommendedTypes":[],"solidityType":"uint256[3]"},{"name":"swapAmountsOut","description":"","recommendedTypes":[],"solidityType":"uint256[3]"},{"name":"swapVia","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"quoteDirect(address,address,uint256)","name":"quoteDirect","description":"Method to get a direct quote between the given tokens - might not be always available as there might not be any direct liquidity between them.","parameterDecorators":[{"name":"fromToken","description":"","recommendedTypes":[]},{"name":"toToken","description":"","recommendedTypes":[]},{"name":"amount","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"returnAmount","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"swapAmounts","description":"","recommendedTypes":[],"solidityType":"uint256[3]"}],"emittableEvents":[],"readOnly":true},{"signature":"reInit()","name":"reInit","description":"re-initializer might be helpful for the cases where proxy's storage is corrupted by an old contact, but we cannot run init as we have the owner address already. This method might help fixing the storage state.","parameterDecorators":[],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"renounceOwnership()","name":"renounceOwnership","description":"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner.","parameterDecorators":[],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"reverseQuote(address,address,uint256)","name":"reverseQuote","description":"Method to get a best Reverse Quote between the direct and through the WETH - as there is more liquidity between token/ETH than token0/token1.","parameterDecorators":[{"name":"fromToken","description":"","recommendedTypes":[]},{"name":"toToken","description":"","recommendedTypes":[]},{"name":"returnAmount","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"inputAmount","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"swapAmountsIn","description":"","recommendedTypes":[],"solidityType":"uint256[3]"},{"name":"swapAmountsOut","description":"","recommendedTypes":[],"solidityType":"uint256[3]"},{"name":"swapVia","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"reverseQuoteDirect(address,address,uint256)","name":"reverseQuoteDirect","description":"Method to get a reverse direct quote between the given tokens - might not be always available as there might not be any direct liquidity between them.","parameterDecorators":[{"name":"fromToken","description":"","recommendedTypes":[]},{"name":"toToken","description":"","recommendedTypes":[]},{"name":"returnAmount","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"inputAmount","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"swapAmounts","description":"","recommendedTypes":[],"solidityType":"uint256[3]"}],"emittableEvents":[],"readOnly":true},{"signature":"setMinPc(uint256)","name":"setMinPc","description":"set the slippage %%.","parameterDecorators":[{"name":"_minPC","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"slippageFee()","name":"slippageFee","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"swap(address,address,uint256,bool)","name":"swap","description":"Main function to run a swap.","parameterDecorators":[{"name":"fromToken","description":"","recommendedTypes":[]},{"name":"toToken","description":"","recommendedTypes":[]},{"name":"amount","description":"","recommendedTypes":[]},{"name":"slipProtect","description":"- enable/disable slip protection.","recommendedTypes":[]}],"returnDecorators":[{"name":"returnAmount","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":false},{"signature":"transferOwnership(address)","name":"transferOwnership","description":"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.","parameterDecorators":[{"name":"newOwner","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"transferTokenBack(address)","name":"transferTokenBack","description":"fallback function to withdraw tokens from contract - not normally needed.","parameterDecorators":[{"name":"TokenAddress","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"returnBalance","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":false}]}