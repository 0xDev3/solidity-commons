{"schema":"../schema.json","tags":["synthetix"],"name":"EtherCollateral","description":"EtherCollateral. Fork of https://github.com/Synthetixio/synthetix/blob/develop/contracts/EtherCollateralsUSD.sol and adopted. Contract to create a collateral system for conjure.","eventDecorators":[{"signature":"AssetClosed(bool)","name":"AssetClosed","description":"The event emitted when the uniswap window changes.","parameterDecorators":[{"name":"status","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"CollateralDeposited(address,uint256,uint256,uint256)","name":"CollateralDeposited","description":"The event emitted when the uniswap window changes.","parameterDecorators":[{"name":"account","description":"","recommendedTypes":[],"indexed":true},{"name":"loanID","description":"","recommendedTypes":[],"indexed":false},{"name":"collateralAmount","description":"","recommendedTypes":[],"indexed":false},{"name":"collateralAfter","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"CollateralWithdrawn(address,uint256,uint256,uint256)","name":"CollateralWithdrawn","description":"The event emitted when the uniswap window changes.","parameterDecorators":[{"name":"account","description":"","recommendedTypes":[],"indexed":true},{"name":"loanID","description":"","recommendedTypes":[],"indexed":false},{"name":"amountWithdrawn","description":"","recommendedTypes":[],"indexed":false},{"name":"collateralAfter","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"IssueFeeRateUpdated(uint256)","name":"IssueFeeRateUpdated","description":"The event emitted when the uniswap window changes.","parameterDecorators":[{"name":"issueFeeRate","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"LoanClosed(address,uint256)","name":"LoanClosed","description":"The event emitted when the uniswap window changes.","parameterDecorators":[{"name":"account","description":"","recommendedTypes":[],"indexed":true},{"name":"loanID","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"LoanCreated(address,uint256,uint256)","name":"LoanCreated","description":"The event emitted when the uniswap window changes.","parameterDecorators":[{"name":"account","description":"","recommendedTypes":[],"indexed":true},{"name":"loanID","description":"","recommendedTypes":[],"indexed":false},{"name":"amount","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"LoanLiquidated(address,uint256,address)","name":"LoanLiquidated","description":"The event emitted when the uniswap window changes.","parameterDecorators":[{"name":"account","description":"","recommendedTypes":[],"indexed":true},{"name":"loanID","description":"","recommendedTypes":[],"indexed":false},{"name":"liquidator","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"LoanLiquidationOpenUpdated(bool)","name":"LoanLiquidationOpenUpdated","description":"The event emitted when the uniswap window changes.","parameterDecorators":[{"name":"loanLiquidationOpen","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"LoanPartiallyLiquidated(address,uint256,address,uint256,uint256)","name":"LoanPartiallyLiquidated","description":"The event emitted when the uniswap window changes.","parameterDecorators":[{"name":"account","description":"","recommendedTypes":[],"indexed":true},{"name":"loanID","description":"","recommendedTypes":[],"indexed":false},{"name":"liquidator","description":"","recommendedTypes":[],"indexed":false},{"name":"liquidatedAmount","description":"","recommendedTypes":[],"indexed":false},{"name":"liquidatedCollateral","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"LoanRepaid(address,uint256,uint256,uint256)","name":"LoanRepaid","description":"The event emitted when the uniswap window changes.","parameterDecorators":[{"name":"account","description":"","recommendedTypes":[],"indexed":true},{"name":"loanID","description":"","recommendedTypes":[],"indexed":false},{"name":"repaidAmount","description":"","recommendedTypes":[],"indexed":false},{"name":"newLoanAmount","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"NewOwner(address)","name":"NewOwner","description":"The event emitted when the uniswap window changes.","parameterDecorators":[{"name":"newOwner","description":"","recommendedTypes":[],"indexed":false}]}],"functionDecorators":[{"signature":"ACCOUNT_LOAN_LIMITS()","name":"ACCOUNT_LOAN_LIMITS","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"LIQUIDATION_PENALTY()","name":"LIQUIDATION_PENALTY","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"MIN_LOAN_COLLATERAL_SIZE()","name":"MIN_LOAN_COLLATERAL_SIZE","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"_factoryContract()","name":"_factoryContract","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"accountOpenLoanCounter(address)","name":"accountOpenLoanCounter","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"accountsSynthLoans(address,uint256)","name":"accountsSynthLoans","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]},{"name":"param1","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"account","description":"","recommendedTypes":[],"solidityType":"address"},{"name":"collateralAmount","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"loanAmount","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"mintingFee","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"timeCreated","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"loanID","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"timeClosed","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"arbasset()","name":"arbasset","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"calculateAmountToLiquidate(uint256,uint256)","name":"calculateAmountToLiquidate","description":"Gets the amount to liquidate which can potentially fix the c ratio given this formula: r = target issuance ratio D = debt balance V = Collateral P = liquidation penalty Calculates amount of synths = (D - V * r) / (1 - (1 + P) * r) If the C-Ratio is greater than Liquidation Ratio + Penalty in % then the C-Ratio can be fixed otherwise a greater number is returned and the debtToCover from the calling function is used.","parameterDecorators":[{"name":"debtBalance","description":"the amount of the loan or debt to calculate in USD.","recommendedTypes":[]},{"name":"collateral","description":"the amount of the collateral in USD.","recommendedTypes":[]}],"returnDecorators":[{"name":"_0","description":"the amount to liquidate to fix the C-Ratio if possible.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"changeOwner(address)","name":"changeOwner","description":"lets the owner change the contract owner.","parameterDecorators":[{"name":"_newOwner","description":"the new owner address of the contract.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"closeLoan(uint256)","name":"closeLoan","description":"Function to close a loan calls the internal _closeLoan function with the false parameter for liquidation to mark it as a non liquidation close.","parameterDecorators":[{"name":"loanID","description":"the ID of the loan a user wants to close.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"collateralAmountForLoan(uint256)","name":"collateralAmountForLoan","description":"Gets the collateral amount needed (in ETH) to mint a given amount of synths.","parameterDecorators":[{"name":"loanAmount","description":"the given loan amount.","recommendedTypes":[]}],"returnDecorators":[{"name":"_0","description":"the amount of collateral (in ETH) needed to open a loan for the synth amount.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"collateralizationRatio()","name":"collateralizationRatio","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"depositCollateral(address,uint256)","name":"depositCollateral","description":"Add ETH collateral to an open loan.","parameterDecorators":[{"name":"account","description":"the opener of the loan.","recommendedTypes":[]},{"name":"loanID","description":"the ID of the loan.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"getAssetClosed()","name":"getAssetClosed","description":"Gets the assetClosed indicator.","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"getContractInfo()","name":"getContractInfo","description":"Gets all the contract information currently in use array indicating which tokens had their prices updated.","parameterDecorators":[],"returnDecorators":[{"name":"_collateralizationRatio","description":"the current C-Ratio.","recommendedTypes":[],"solidityType":"uint256"},{"name":"_issuanceRatio","description":"the percentage of 100/ C-ratio e.g. 100/150 = 0.6666666667.","recommendedTypes":[],"solidityType":"uint256"},{"name":"_issueFeeRate","description":"the minting fee for a new loan.","recommendedTypes":[],"solidityType":"uint256"},{"name":"_minLoanCollateralSize","description":"the minimum loan collateral value.","recommendedTypes":[],"solidityType":"uint256"},{"name":"_totalIssuedSynths","description":"the total of all issued synths.","recommendedTypes":[],"solidityType":"uint256"},{"name":"_totalLoansCreated","description":"the total of all loans created.","recommendedTypes":[],"solidityType":"uint256"},{"name":"_totalOpenLoanCount","description":"the total of open loans.","recommendedTypes":[],"solidityType":"uint256"},{"name":"_ethBalance","description":"the current balance of the contract.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"getLoan(address,uint256)","name":"getLoan","description":"Gets all details about a certain loan.","parameterDecorators":[{"name":"_account","description":"the opener of the loans.","recommendedTypes":[]},{"name":"_loanID","description":"the ID of a given loan.","recommendedTypes":[]}],"returnDecorators":[{"name":"account","description":"the opener of the loan.","recommendedTypes":[],"solidityType":"address"},{"name":"collateralAmount","description":"the amount of collateral in ETH.","recommendedTypes":[],"solidityType":"uint256"},{"name":"loanAmount","description":"the loan amount.","recommendedTypes":[],"solidityType":"uint256"},{"name":"timeCreated","description":"the time the loan was initially created.","recommendedTypes":[],"solidityType":"uint256"},{"name":"loanID","description":"the ID of the loan.","recommendedTypes":[],"solidityType":"uint256"},{"name":"timeClosed","description":"the closure time of the loan (if closed).","recommendedTypes":[],"solidityType":"uint256"},{"name":"totalFees","description":"the minting fee of the loan.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"getLoanCollateralRatio(address,uint256)","name":"getLoanCollateralRatio","description":"Gets the current C-Ratio of a loan.","parameterDecorators":[{"name":"_account","description":"the opener of the loan.","recommendedTypes":[]},{"name":"_loanID","description":"the loan ID.","recommendedTypes":[]}],"returnDecorators":[{"name":"loanCollateralRatio","description":"the current C-Ratio of the loan.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"getMintingFee(address,uint256)","name":"getMintingFee","description":"Gets the minting fee given the account address and the loanID.","parameterDecorators":[{"name":"_account","description":"the opener of the loan.","recommendedTypes":[]},{"name":"_loanID","description":"the loan id.","recommendedTypes":[]}],"returnDecorators":[{"name":"_0","description":"the minting fee of the loan.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"getOpenLoanIDsByAccount(address)","name":"getOpenLoanIDsByAccount","description":"Gets all open loans by a given account address.","parameterDecorators":[{"name":"_account","description":"the opener of the loans.","recommendedTypes":[]}],"returnDecorators":[{"name":"_0","description":"all open loans by ID in form of an array.","recommendedTypes":[],"solidityType":"uint256[]"}],"emittableEvents":[],"readOnly":true},{"signature":"initialize(address,address,address,uint256[2])","name":"initialize","description":"initializes the clone implementation and the EtherCollateral contract.","parameterDecorators":[{"name":"_asset","description":"the asset with which the EtherCollateral contract is linked.","recommendedTypes":[]},{"name":"_owner","description":"the owner of the asset.","recommendedTypes":[]},{"name":"_factoryAddress","description":"the address of the conjure factory for later fee sending.","recommendedTypes":[]},{"name":"_mintingFeeRatio","description":"array which holds the minting fee and the c-ratio.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"issuanceRatio()","name":"issuanceRatio","description":"Gets the value of of 100 / collateralizationRatio. e.g. 100/150 = 0.6666666667.","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"issueFeeRate()","name":"issueFeeRate","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"liquidateLoan(address,uint256,uint256)","name":"liquidateLoan","description":"Liquidate loans at or below issuance ratio if the liquidation amount is greater or equal to the owed amount it will also trigger a closure of the loan.","parameterDecorators":[{"name":"_loanCreatorsAddress","description":"the address of the loan creator.","recommendedTypes":[]},{"name":"_loanID","description":"the ID of the loan.","recommendedTypes":[]},{"name":"_debtToCover","description":"the amount of synths the liquidator wants to cover.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"liquidationRatio()","name":"liquidationRatio","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"loanAmountFromCollateral(uint256)","name":"loanAmountFromCollateral","description":"Gets the amount of synths which can be issued given a certain loan amount.","parameterDecorators":[{"name":"collateralAmount","description":"the given ETH amount.","recommendedTypes":[]}],"returnDecorators":[{"name":"_0","description":"the amount of synths which can be minted with the given collateral amount.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"openLoan(uint256)","name":"openLoan","description":"Public function to open a new loan in the system.","parameterDecorators":[{"name":"_loanAmount","description":"the amount of synths a user wants to take a loan for.","recommendedTypes":[]}],"returnDecorators":[{"name":"loanID","description":"the ID of the newly created loan.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":false},{"signature":"owner()","name":"owner","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"repayLoan(address,uint256,uint256)","name":"repayLoan","description":"Repay synths to fix C-Ratio.","parameterDecorators":[{"name":"_loanCreatorsAddress","description":"the address of the loan creator.","recommendedTypes":[]},{"name":"_loanID","description":"the ID of the loan.","recommendedTypes":[]},{"name":"_repayAmount","description":"the amount of synths to be repaid.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setAssetClosed(bool)","name":"setAssetClosed","description":"Sets the assetClosed indicator if loan opening is allowed or not Called by the Conjure contract if the asset price reaches 0.","parameterDecorators":[{"name":"status","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setIssueFeeRate(uint256)","name":"setIssueFeeRate","description":"Sets minting fee of the asset.","parameterDecorators":[{"name":"_issueFeeRate","description":"the new minting fee.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"totalIssuedSynths()","name":"totalIssuedSynths","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"totalLoansCreated()","name":"totalLoansCreated","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"totalOpenLoanCount()","name":"totalOpenLoanCount","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"withdrawCollateral(uint256,uint256)","name":"withdrawCollateral","description":"Withdraw ETH collateral from an open loan the C-Ratio after should not be less than the Liquidation Ratio.","parameterDecorators":[{"name":"loanID","description":"the ID of the loan.","recommendedTypes":[]},{"name":"withdrawAmount","description":"the amount to withdraw from the current collateral.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false}]}