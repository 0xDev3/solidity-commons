{"schema":"../schema.json","tags":["tokens","loans"],"name":"TokenCollateralLoans","description":"This contract is used as a basis for the creation of loans (not wei) across the platformIt implements the LoansBase contract from Teller.","eventDecorators":[{"signature":"CollateralDeposited(uint256,address,uint256)","name":"CollateralDeposited","description":"event emitted when a user has unstaked a token.","parameterDecorators":[{"name":"loanID","description":"","recommendedTypes":[],"indexed":true},{"name":"borrower","description":"","recommendedTypes":[],"indexed":true},{"name":"depositAmount","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"CollateralWithdrawn(uint256,address,uint256)","name":"CollateralWithdrawn","description":"event emitted when a user has unstaked a token.","parameterDecorators":[{"name":"loanID","description":"","recommendedTypes":[],"indexed":true},{"name":"borrower","description":"","recommendedTypes":[],"indexed":true},{"name":"withdrawalAmount","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"LoanLiquidated(uint256,address,address,uint256,uint256)","name":"LoanLiquidated","description":"event emitted when a user has unstaked a token.","parameterDecorators":[{"name":"loanID","description":"","recommendedTypes":[],"indexed":true},{"name":"borrower","description":"","recommendedTypes":[],"indexed":true},{"name":"liquidator","description":"","recommendedTypes":[],"indexed":false},{"name":"collateralOut","description":"","recommendedTypes":[],"indexed":false},{"name":"tokensIn","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"LoanRepaid(uint256,address,uint256,address,uint256)","name":"LoanRepaid","description":"event emitted when a user has unstaked a token.","parameterDecorators":[{"name":"loanID","description":"","recommendedTypes":[],"indexed":true},{"name":"borrower","description":"","recommendedTypes":[],"indexed":true},{"name":"amountPaid","description":"","recommendedTypes":[],"indexed":false},{"name":"payer","description":"","recommendedTypes":[],"indexed":false},{"name":"totalOwed","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"LoanTakenOut(uint256,address,address,uint256)","name":"LoanTakenOut","description":"event emitted when a user has unstaked a token.","parameterDecorators":[{"name":"loanID","description":"","recommendedTypes":[],"indexed":true},{"name":"borrower","description":"","recommendedTypes":[],"indexed":true},{"name":"escrow","description":"","recommendedTypes":[],"indexed":true},{"name":"amountBorrowed","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"LoanTermsSet(uint256,address,address,uint256,uint256,uint256,uint256,uint256)","name":"LoanTermsSet","description":"event emitted when a user has unstaked a token.","parameterDecorators":[{"name":"loanID","description":"","recommendedTypes":[],"indexed":true},{"name":"borrower","description":"","recommendedTypes":[],"indexed":true},{"name":"recipient","description":"","recommendedTypes":[],"indexed":true},{"name":"interestRate","description":"","recommendedTypes":[],"indexed":false},{"name":"collateralRatio","description":"","recommendedTypes":[],"indexed":false},{"name":"maxLoanAmount","description":"","recommendedTypes":[],"indexed":false},{"name":"duration","description":"","recommendedTypes":[],"indexed":false},{"name":"termsExpiry","description":"","recommendedTypes":[],"indexed":false}]}],"functionDecorators":[{"signature":"borrowerLoans(address,uint256)","name":"borrowerLoans","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]},{"name":"param1","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"cToken()","name":"cToken","description":"Returns the cToken in the lending pool.","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"canLoanGoToEOA(uint256)","name":"canLoanGoToEOA","description":"","parameterDecorators":[{"name":"loanID","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"collateralToken()","name":"collateralToken","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"createLoanWithTerms(tuple(address,address,address,uint256,uint256,uint256,uint256),tuple(address,address,uint256,uint256,uint256,uint256,tuple)[],uint256)","name":"createLoanWithTerms","description":"","parameterDecorators":[{"name":"request","description":"","recommendedTypes":[],"parameters":[{"name":"borrower","description":"","type":"address"},{"name":"recipient","description":"","type":"address"},{"name":"consensusAddress","description":"","type":"address"},{"name":"requestNonce","description":"","type":"uint256"},{"name":"amount","description":"","type":"uint256"},{"name":"duration","description":"","type":"uint256"},{"name":"requestTime","description":"","type":"uint256"}]},{"name":"responses","description":"","recommendedTypes":[],"parameters":[{"name":"signer","description":"","type":"address"},{"name":"consensusAddress","description":"","type":"address"},{"name":"responseTime","description":"","type":"uint256"},{"name":"interestRate","description":"","type":"uint256"},{"name":"collateralRatio","description":"","type":"uint256"},{"name":"maxLoanAmount","description":"","type":"uint256"},{"name":"signature","description":"","type":"tuple"}]},{"name":"collateralAmount","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"depositCollateral(address,uint256,uint256)","name":"depositCollateral","description":"Deposit collateral tokens into a loan.","parameterDecorators":[{"name":"borrower","description":"The address of the loan borrower.","recommendedTypes":[]},{"name":"loanID","description":"The ID of the loan the collateral is for.","recommendedTypes":[]},{"name":"amount","description":"The amount to deposit as collateral.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"getBorrowerLoans(address)","name":"getBorrowerLoans","description":"Get a list of all loans for a borrower.","parameterDecorators":[{"name":"borrower","description":"The borrower's address.","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256[]"}],"emittableEvents":[],"readOnly":true},{"signature":"getCollateralInfo(uint256)","name":"getCollateralInfo","description":"","parameterDecorators":[{"name":"loanID","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"tuple"}],"emittableEvents":[],"readOnly":true},{"signature":"getLiquidationInfo(uint256)","name":"getLiquidationInfo","description":"","parameterDecorators":[{"name":"loanID","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"tuple"}],"emittableEvents":[],"readOnly":true},{"signature":"getTotalOwed(uint256)","name":"getTotalOwed","description":"","parameterDecorators":[{"name":"loanID","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"initialize()","name":"initialize","description":"","parameterDecorators":[],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"initialize(address,address,address,address)","name":"initialize","description":"Initializes the current contract instance setting the required parameters, if allowed.","parameterDecorators":[{"name":"lendingPoolAddress","description":"Contract address of the lending pool.","recommendedTypes":[]},{"name":"loanTermsConsensusAddress","description":"Contract address for loan term consensus.","recommendedTypes":[]},{"name":"settingsAddress","description":"Contract address for the configuration of the platform.","recommendedTypes":[]},{"name":"collateralTokenAddress","description":"Contract address for the collateral token.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"initialized()","name":"initialized","description":"Gets if the contract is initialized.","parameterDecorators":[],"returnDecorators":[{"name":"value","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"isLoanSecured(uint256)","name":"isLoanSecured","description":"","parameterDecorators":[{"name":"loanID","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"lendingPool()","name":"lendingPool","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"lendingToken()","name":"lendingToken","description":"Returns the lending token in the lending pool.","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"liquidateLoan(uint256)","name":"liquidateLoan","description":"Liquidate a loan if it is expired or under collateralized.","parameterDecorators":[{"name":"loanID","description":"The ID of the loan to be liquidated.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"loanIDCounter()","name":"loanIDCounter","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"loanTermsConsensus()","name":"loanTermsConsensus","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"loans(uint256)","name":"loans","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"id","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"loanTerms","description":"","recommendedTypes":[],"solidityType":"tuple"},{"name":"termsExpiry","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"loanStartTime","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"collateral","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"lastCollateralIn","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"principalOwed","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"interestOwed","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"borrowedAmount","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"escrow","description":"","recommendedTypes":[],"solidityType":"address"},{"name":"status","description":"","recommendedTypes":[],"solidityType":"uint8"},{"name":"liquidated","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"repay(uint256,uint256)","name":"repay","description":"Make a payment to a loan.","parameterDecorators":[{"name":"amount","description":"The amount of tokens to pay back to the loan.","recommendedTypes":[]},{"name":"loanID","description":"The ID of the loan the payment is for.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"settings()","name":"settings","description":"The gets the settings contract address from the SETTINGS_SLOT. This address should NOT change over the time. See details in the _setSettings(...) function.","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"tToken()","name":"tToken","description":"Returns the tToken in the lending pool.","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"takeOutLoan(uint256,uint256)","name":"takeOutLoan","description":"Take out a loan. collateral ratio is a percentage of the loan amount that's required in collateralthe percentage will be *(10**2). I.e. collateralRatio of 5244 means 52.44% collateralis required in the loan. Interest rate is also a percentage with 2 decimal points.","parameterDecorators":[{"name":"loanID","description":"","recommendedTypes":[]},{"name":"amountBorrow","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"totalCollateral()","name":"totalCollateral","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"withdrawCollateral(uint256,uint256)","name":"withdrawCollateral","description":"Withdraw collateral from a loan, unless this isn't allowed.","parameterDecorators":[{"name":"amount","description":"The amount of collateral token or ether the caller is hoping to withdraw.","recommendedTypes":[]},{"name":"loanID","description":"The ID of the loan the collateral is for.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false}]}