{"schema":"../schema.json","tags":["swaps","yearn finance"],"name":"Core","description":"HedgeCore Upgradable Contract for `sIMMO`. Main Core contract for `Soft Hedge & Leverage` protocol - Users(EOA or WhitelistedContracts) can: # deposit # withdraw # swap # sponsor & sponsorWithdraw.","eventDecorators":[{"signature":"AdminChanged(address,address)","name":"AdminChanged","description":"Triggered when an amount of an ERC20 has been transferred from this contract to an address.","parameterDecorators":[{"name":"previousAdmin","description":"","recommendedTypes":[],"indexed":false},{"name":"newAdmin","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"BeaconUpgraded(address)","name":"BeaconUpgraded","description":"Triggered when an amount of an ERC20 has been transferred from this contract to an address.","parameterDecorators":[{"name":"beacon","description":"","recommendedTypes":[],"indexed":true}]},{"signature":"ContractWhitelisted(address,bool)","name":"ContractWhitelisted","description":"Triggered when an amount of an ERC20 has been transferred from this contract to an address.","parameterDecorators":[{"name":"contract_","description":"","recommendedTypes":[],"indexed":true},{"name":"isWhitelisted_","description":"","recommendedTypes":[],"indexed":true}]},{"signature":"Deposited(address,uint256,uint256)","name":"Deposited","description":"Triggered when an amount of an ERC20 has been transferred from this contract to an address.","parameterDecorators":[{"name":"amount","description":"Amount of the transaction.","recommendedTypes":[],"indexed":true},{"name":"to","description":"Address of the receiver.","recommendedTypes":[],"indexed":true},{"name":"token","description":"ERC20 token address.","recommendedTypes":[],"indexed":true}]},{"signature":"HedgeLog(uint256,bool,uint256)","name":"HedgeLog","description":"Triggered when an amount of an ERC20 has been transferred from this contract to an address.","parameterDecorators":[{"name":"amount","description":"Amount of the transaction.","recommendedTypes":[],"indexed":false},{"name":"to","description":"Address of the receiver.","recommendedTypes":[],"indexed":false},{"name":"token","description":"ERC20 token address.","recommendedTypes":[],"indexed":false}]},{"signature":"Initialized(address)","name":"Initialized","description":"Triggered when an amount of an ERC20 has been transferred from this contract to an address.","parameterDecorators":[{"name":"initializer","description":"","recommendedTypes":[],"indexed":true}]},{"signature":"Logger(uint256,uint256,uint256,uint256)","name":"Logger","description":"Triggered when an amount of an ERC20 has been transferred from this contract to an address.","parameterDecorators":[{"name":"shortIndex","description":"","recommendedTypes":[],"indexed":false},{"name":"longIndex","description":"","recommendedTypes":[],"indexed":false},{"name":"shortRebase_","description":"","recommendedTypes":[],"indexed":true},{"name":"longRebased_","description":"","recommendedTypes":[],"indexed":true}]},{"signature":"Paused(address)","name":"Paused","description":"Triggered when an amount of an ERC20 has been transferred from this contract to an address.","parameterDecorators":[{"name":"account","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"PriceUpdated(uint256)","name":"PriceUpdated","description":"Triggered when an amount of an ERC20 has been transferred from this contract to an address.","parameterDecorators":[{"name":"price_","description":"","recommendedTypes":[],"indexed":true}]},{"signature":"Rebased(uint256,uint256)","name":"Rebased","description":"Triggered when an amount of an ERC20 has been transferred from this contract to an address.","parameterDecorators":[{"name":"rebaseDistributed_","description":"","recommendedTypes":[],"indexed":true},{"name":"rebaseTotal_","description":"","recommendedTypes":[],"indexed":true}]},{"signature":"SponsorWithdrawn(address,uint256)","name":"SponsorWithdrawn","description":"Triggered when an amount of an ERC20 has been transferred from this contract to an address.","parameterDecorators":[{"name":"user_","description":"","recommendedTypes":[],"indexed":true},{"name":"amount_","description":"","recommendedTypes":[],"indexed":true}]},{"signature":"Sponsored(address,uint256)","name":"Sponsored","description":"Triggered when an amount of an ERC20 has been transferred from this contract to an address.","parameterDecorators":[{"name":"user_","description":"","recommendedTypes":[],"indexed":true},{"name":"amount_","description":"","recommendedTypes":[],"indexed":true}]},{"signature":"Swaped(address,bool,uint256)","name":"Swaped","description":"Triggered when an amount of an ERC20 has been transferred from this contract to an address.","parameterDecorators":[{"name":"amount","description":"Amount of the transaction.","recommendedTypes":[],"indexed":true},{"name":"to","description":"Address of the receiver.","recommendedTypes":[],"indexed":true},{"name":"token","description":"ERC20 token address.","recommendedTypes":[],"indexed":true}]},{"signature":"Unpaused(address)","name":"Unpaused","description":"Triggered when an amount of an ERC20 has been transferred from this contract to an address.","parameterDecorators":[{"name":"account","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"Upgraded(address)","name":"Upgraded","description":"Triggered when an amount of an ERC20 has been transferred from this contract to an address.","parameterDecorators":[{"name":"implementation","description":"","recommendedTypes":[],"indexed":true}]},{"signature":"Withdrawn(address,uint256,uint256)","name":"Withdrawn","description":"Triggered when an amount of an ERC20 has been transferred from this contract to an address.","parameterDecorators":[{"name":"amount","description":"Amount of the transaction.","recommendedTypes":[],"indexed":true},{"name":"to","description":"Address of the receiver.","recommendedTypes":[],"indexed":true},{"name":"token","description":"ERC20 token address.","recommendedTypes":[],"indexed":true}]}],"functionDecorators":[{"signature":"PRECISION()","name":"PRECISION","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"RATIO_PRECISION()","name":"RATIO_PRECISION","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"addressProvider()","name":"addressProvider","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"currSTokenEpoch()","name":"currSTokenEpoch","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"deposit(uint256,uint256)","name":"deposit","description":"deposit sIMMO to soft hedge & leverage and get hgeToken and levToken. for frontend.","parameterDecorators":[{"name":"hgeAmount_","description":"","recommendedTypes":[]},{"name":"levAmount_","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"depositFor(address,uint256,uint256)","name":"depositFor","description":"caller depositFor depositFor `user_`.","parameterDecorators":[{"name":"user_","description":"","recommendedTypes":[]},{"name":"hgeAmount_","description":"","recommendedTypes":[]},{"name":"levAmount_","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"earnedProfit(address)","name":"earnedProfit","description":"view your earned profits. for user view and reference only! might not be accurate if user transfer their hge/lev tokens.","parameterDecorators":[{"name":"user_","description":"user address.","recommendedTypes":[]}],"returnDecorators":[{"name":"earnedProfit_","description":"earned profit for `user_`.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"epoch()","name":"epoch","description":"fetch epoch. data source is chainlink oracle. get from oracle master and the mapping entry is set to the chainlink aggregator address.","parameterDecorators":[],"returnDecorators":[{"name":"epoch_","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"fetchLastNRoundsResults(uint256)","name":"fetchLastNRoundsResults","description":"return last n rounds result in an array. results array start from old result to new results.","parameterDecorators":[{"name":"n_","description":"number of results you wish to fectch.","recommendedTypes":[]}],"returnDecorators":[{"name":"results_","description":"","recommendedTypes":[],"solidityType":"bool[]"}],"emittableEvents":[],"readOnly":true},{"signature":"gauge()","name":"gauge","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"hedgeCoreStatus()","name":"hedgeCoreStatus","description":"true: deposit open. false: deposit close 1. in allowed period, 2. before rebased.","parameterDecorators":[],"returnDecorators":[{"name":"isUnlocked_","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"hedgeInfo()","name":"hedgeInfo","description":"","parameterDecorators":[],"returnDecorators":[{"name":"hedgeTokenPrice","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"rebaseEndTime","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"hedgeRebaseCnt()","name":"hedgeRebaseCnt","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"hgeToken()","name":"hgeToken","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"initGnesisHedge(address,address,address)","name":"initGnesisHedge","description":"[onlyDAO] we init critical settings and variables for rebase here.","parameterDecorators":[{"name":"hgeToken_","description":"Hedge token (interest bearing token).","recommendedTypes":[]},{"name":"levToken_","description":"Leverage token (interest bearing token).","recommendedTypes":[]},{"name":"sponsorToken_","description":"Sponsor token (normal ERC20 token).","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"initialize(string,address,address)","name":"initialize","description":"initialize function for upgradable contract.","parameterDecorators":[{"name":"name_","description":"name of this contract.","recommendedTypes":[]},{"name":"addressProvider_","description":"addressProvider.","recommendedTypes":[]},{"name":"sToken_","description":"sIMMO.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"initialized()","name":"initialized","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"isLevWin(bool,uint256,uint256)","name":"isLevWin","description":"check if lev win. (>=: lev, <: hedge).","parameterDecorators":[{"name":"ispriceRatioUp_","description":"","recommendedTypes":[]},{"name":"lastPrice_","description":"","recommendedTypes":[]},{"name":"currPrice_","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"isLev_","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"isPriceRatioUp()","name":"isPriceRatioUp","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"isSTokenRebased()","name":"isSTokenRebased","description":"check if sToken rebase since last time.","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"levRebaseCnt()","name":"levRebaseCnt","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"levToken()","name":"levToken","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"logs(uint256)","name":"logs","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"isLev","description":"","recommendedTypes":[],"solidityType":"bool"},{"name":"atualRebasedAmount","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"totalRebasedAmount","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"timestampOccured","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"epoch","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"tokenIdx","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"logsLen()","name":"logsLen","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"minSingleSideDepositAmount()","name":"minSingleSideDepositAmount","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"name()","name":"name","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"string"}],"emittableEvents":[],"readOnly":true},{"signature":"paused()","name":"paused","description":"Returns true if the contract is paused, and false otherwise.","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"priceAfterRatio()","name":"priceAfterRatio","description":"","parameterDecorators":[],"returnDecorators":[{"name":"price_","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"priceRatio()","name":"priceRatio","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"resctrictedPeriod()","name":"resctrictedPeriod","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"rescueTokens(address,uint256)","name":"rescueTokens","description":"[onlyDAO] rescue leftover tokens and send them to DAO.","parameterDecorators":[{"name":"token_","description":"reserve curreny.","recommendedTypes":[]},{"name":"amount_","description":"amount of reserve token to transfer.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"sToken()","name":"sToken","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"sTokenPrice()","name":"sTokenPrice","description":"sIMMO price. (here are sIMMO/McUSD).","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"setPause(bool)","name":"setPause","description":"[onlyEmergencyAdmin] pause or unpause protocol.","parameterDecorators":[{"name":"paused_","description":"true => pause, false => unpause.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setSingleSideMinDepositAmount(uint256)","name":"setSingleSideMinDepositAmount","description":"","parameterDecorators":[{"name":"minAmount_","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setWhiteListContract(address,bool)","name":"setWhiteListContract","description":"","parameterDecorators":[{"name":"contract_","description":"","recommendedTypes":[]},{"name":"isWhitelisted_","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setWithdrawAllPause(bool)","name":"setWithdrawAllPause","description":"[onlyEmergencyAdmin] pause or unpause withdrawAll.","parameterDecorators":[{"name":"paused_","description":"true => pause, false => unpause.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"sponsorDeposit(uint256)","name":"sponsorDeposit","description":"","parameterDecorators":[{"name":"amount_","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"sponsorToken()","name":"sponsorToken","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"sponsorWithdraw(uint256)","name":"sponsorWithdraw","description":"","parameterDecorators":[{"name":"amount_","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"startNewHedge()","name":"startNewHedge","description":"","parameterDecorators":[],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"swap(bool,uint256)","name":"swap","description":"swap between soft hedge and soft leverage.","parameterDecorators":[{"name":"fromLongToShort_","description":"","recommendedTypes":[]},{"name":"amount_","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"toGaugeRatio()","name":"toGaugeRatio","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"updateGaugeAndRatio(address,uint256)","name":"updateGaugeAndRatio","description":"update toGauge address and ratio. The fee is activated when both are set correct. the fee is deducted from the loser' side rebase reward.","parameterDecorators":[{"name":"newGauge_","description":"gauge address. set to address(0) to turn off fee.","recommendedTypes":[]},{"name":"ratio_","description":"fee ratio. ratio is 10^5 precision. so 1000 => 1%. 20000 => 20%.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"updatePriceRatio(bool,uint256)","name":"updatePriceRatio","description":"update price impact.","parameterDecorators":[{"name":"isUp_","description":"","recommendedTypes":[]},{"name":"newRatio_","description":"no upper limit (0-100%).","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"updateRestrictedPeriod(uint256)","name":"updateRestrictedPeriod","description":"[onlyDAO] range 0-8hours => deposit available window (8 - 0 hours).","parameterDecorators":[{"name":"value_","description":"new restricted period.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"upgradeTo(address)","name":"upgradeTo","description":"Upgrade the implementation of the proxy to `newImplementation`. Calls {_authorizeUpgrade}. Emits an {Upgraded} event.","parameterDecorators":[{"name":"newImplementation","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":["Upgraded(address)"],"readOnly":false},{"signature":"upgradeToAndCall(address,bytes)","name":"upgradeToAndCall","description":"Upgrade the implementation of the proxy to `newImplementation`, and subsequently execute the function call encoded in `data`. Calls {_authorizeUpgrade}. Emits an {Upgraded} event.","parameterDecorators":[{"name":"newImplementation","description":"","recommendedTypes":[]},{"name":"data","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":["Upgraded(address)"],"readOnly":false},{"signature":"userDeposited(address)","name":"userDeposited","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"whitelistedContracts(address)","name":"whitelistedContracts","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"withdraw(uint256,uint256)","name":"withdraw","description":"withdraw gOHM. for frontend.","parameterDecorators":[{"name":"hgeAmount_","description":"","recommendedTypes":[]},{"name":"levAmount_","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"withdrawAllPaused()","name":"withdrawAllPaused","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"withdrawAllWhenPaused()","name":"withdrawAllWhenPaused","description":"redeem back all available sIMMO after game paused. for user to exit the game completely after the game paused. All hgeToken and levToken of `msg.sender` will be burned.","parameterDecorators":[],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"withdrawTo(address,uint256,uint256)","name":"withdrawTo","description":"caller withdrawTo withdrawTo `user_`.","parameterDecorators":[{"name":"recipent_","description":"","recommendedTypes":[]},{"name":"hgeAmount_","description":"","recommendedTypes":[]},{"name":"levAmount_","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false}]}