{
  "schema": "../schema.json",
  "tags": [],
  "name": "DepositSecurityModule",
  "description": "",
  "eventDecorators": [
    {
      "signature": "DepositsPaused(address)",
      "name": "DepositsPaused",
      "description": "Event for token purchase logging.",
      "parameterDecorators": [
        {
          "name": "guardian",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        }
      ]
    },
    {
      "signature": "DepositsUnpaused()",
      "name": "DepositsUnpaused",
      "description": "Event for token purchase logging.",
      "parameterDecorators": []
    },
    {
      "signature": "GuardianAdded(address)",
      "name": "GuardianAdded",
      "description": "Event for token purchase logging.",
      "parameterDecorators": [
        {
          "name": "guardian",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        }
      ]
    },
    {
      "signature": "GuardianQuorumChanged(uint256)",
      "name": "GuardianQuorumChanged",
      "description": "Event for token purchase logging.",
      "parameterDecorators": [
        {
          "name": "newValue",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        }
      ]
    },
    {
      "signature": "GuardianRemoved(address)",
      "name": "GuardianRemoved",
      "description": "Event for token purchase logging.",
      "parameterDecorators": [
        {
          "name": "guardian",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        }
      ]
    },
    {
      "signature": "MaxDepositsChanged(uint256)",
      "name": "MaxDepositsChanged",
      "description": "Event for token purchase logging.",
      "parameterDecorators": [
        {
          "name": "newValue",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        }
      ]
    },
    {
      "signature": "MinDepositBlockDistanceChanged(uint256)",
      "name": "MinDepositBlockDistanceChanged",
      "description": "Event for token purchase logging.",
      "parameterDecorators": [
        {
          "name": "newValue",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        }
      ]
    },
    {
      "signature": "NodeOperatorsRegistryChanged(address)",
      "name": "NodeOperatorsRegistryChanged",
      "description": "Event for token purchase logging.",
      "parameterDecorators": [
        {
          "name": "newValue",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        }
      ]
    },
    {
      "signature": "OwnerChanged(address)",
      "name": "OwnerChanged",
      "description": "Event for token purchase logging.",
      "parameterDecorators": [
        {
          "name": "newValue",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        }
      ]
    },
    {
      "signature": "PauseIntentValidityPeriodBlocksChanged(uint256)",
      "name": "PauseIntentValidityPeriodBlocksChanged",
      "description": "Event for token purchase logging.",
      "parameterDecorators": [
        {
          "name": "newValue",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        }
      ]
    }
  ],
  "functionDecorators": [
    {
      "signature": "ATTEST_MESSAGE_PREFIX()",
      "name": "ATTEST_MESSAGE_PREFIX",
      "description": "",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "bytes32"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "DEPOSIT_CONTRACT()",
      "name": "DEPOSIT_CONTRACT",
      "description": "",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "address"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "LIDO()",
      "name": "LIDO",
      "description": "",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "address"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "PAUSE_MESSAGE_PREFIX()",
      "name": "PAUSE_MESSAGE_PREFIX",
      "description": "",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "bytes32"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "addGuardian(address,uint256)",
      "name": "addGuardian",
      "description": "Adds a guardian address and sets a new quorum value. Reverts if the address is already a guardian. Only callable by the owner.",
      "parameterDecorators": [
        {
          "name": "addr",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "newQuorum",
          "description": "",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "addGuardians(address[],uint256)",
      "name": "addGuardians",
      "description": "Adds a set of guardian addresses and sets a new quorum value. Reverts any of them is already a guardian. Only callable by the owner.",
      "parameterDecorators": [
        {
          "name": "addresses",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "newQuorum",
          "description": "",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "canDeposit()",
      "name": "canDeposit",
      "description": "Returns whether depositBufferedEther can be called, given that the caller will provide guardian attestations of non-stale deposit root and `keysOpIndex`, and the number of such attestations will be enough to reach quorum.",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "bool"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "depositBufferedEther(bytes32,uint256,uint256,bytes32,tuple(bytes32,bytes32)[])",
      "name": "depositBufferedEther",
      "description": "Calls Lido.depositBufferedEther(MAX_DEPOSITS_PER_BLOCK). Reverts if any of the following is true: 1. IDepositContract.get_deposit_root() != depositRoot. 2. INodeOperatorsRegistry.getKeysOpIndex() != keysOpIndex. 3. The number of guardian signatures is less than getGuardianQuorum(). 4. An invalid or non-guardian signature received. 5. block.number - getLastDepositBlock() < MIN_DEPOSIT_BLOCK_DISTANCE. 6. blockhash(blockNumber) != blockHash. Signatures must be sorted in ascending order by index of the guardian. Each signature must be produced for keccak256 hash of the following message (each component taking 32 bytes): | ATTEST_MESSAGE_PREFIX | depositRoot | keysOpIndex | blockNumber | blockHash |.",
      "parameterDecorators": [
        {
          "name": "depositRoot",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "keysOpIndex",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "blockNumber",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "blockHash",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "sortedGuardianSignatures",
          "description": "",
          "recommendedTypes": [],
          "parameters": [
            {
              "name": "r",
              "description": "",
              "type": "bytes32"
            },
            {
              "name": "vs",
              "description": "",
              "type": "bytes32"
            }
          ]
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "getGuardianIndex(address)",
      "name": "getGuardianIndex",
      "description": "Returns index of the guardian, or -1 if the address is not a guardian.",
      "parameterDecorators": [
        {
          "name": "addr",
          "description": "",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "int256"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "getGuardianQuorum()",
      "name": "getGuardianQuorum",
      "description": "Returns number of valid guardian signatures required to vet (depositRoot, keysOpIndex) pair.",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "uint256"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "getGuardians()",
      "name": "getGuardians",
      "description": "Returns guardian committee member list.",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "address[]"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "getLastDepositBlock()",
      "name": "getLastDepositBlock",
      "description": "Returns the last block that contains a deposit performed via this security module.",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "uint256"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "getMaxDeposits()",
      "name": "getMaxDeposits",
      "description": "Returns `MAX_DEPOSITS_PER_BLOCK` (see `depositBufferedEther`).",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "uint256"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "getMinDepositBlockDistance()",
      "name": "getMinDepositBlockDistance",
      "description": "Returns `MIN_DEPOSIT_BLOCK_DISTANCE` (see `depositBufferedEther`).",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "uint256"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "getNodeOperatorsRegistry()",
      "name": "getNodeOperatorsRegistry",
      "description": "Returns NodeOperatorsRegistry contract address.",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "address"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "getOwner()",
      "name": "getOwner",
      "description": "Returns the owner address.",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "address"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "getPauseIntentValidityPeriodBlocks()",
      "name": "getPauseIntentValidityPeriodBlocks",
      "description": "Returns `PAUSE_INTENT_VALIDITY_PERIOD_BLOCKS` (see `pauseDeposits`).",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "uint256"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "isGuardian(address)",
      "name": "isGuardian",
      "description": "Checks whether the given address is a guardian.",
      "parameterDecorators": [
        {
          "name": "addr",
          "description": "",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "bool"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "isPaused()",
      "name": "isPaused",
      "description": "Returns whether deposits were paused.",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "bool"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "pauseDeposits(uint256,tuple(bytes32,bytes32))",
      "name": "pauseDeposits",
      "description": "Pauses deposits given that both conditions are satisfied (reverts otherwise): 1. The function is called by the guardian with index guardianIndex OR sig is a valid signature by the guardian with index guardianIndex of the data defined below. 2. block.number - blockNumber <= PAUSE_INTENT_VALIDITY_PERIOD_BLOCKS The signature, if present, must be produced for keccak256 hash of the following message (each component taking 32 bytes): | PAUSE_MESSAGE_PREFIX | blockNumber.",
      "parameterDecorators": [
        {
          "name": "blockNumber",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "sig",
          "description": "",
          "recommendedTypes": [],
          "parameters": [
            {
              "name": "r",
              "description": "",
              "type": "bytes32"
            },
            {
              "name": "vs",
              "description": "",
              "type": "bytes32"
            }
          ]
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "removeGuardian(address,uint256)",
      "name": "removeGuardian",
      "description": "Removes a guardian with the given address and sets a new quorum value. Only callable by the owner.",
      "parameterDecorators": [
        {
          "name": "addr",
          "description": "",
          "recommendedTypes": []
        },
        {
          "name": "newQuorum",
          "description": "",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "setGuardianQuorum(uint256)",
      "name": "setGuardianQuorum",
      "description": "",
      "parameterDecorators": [
        {
          "name": "newValue",
          "description": "",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "setMaxDeposits(uint256)",
      "name": "setMaxDeposits",
      "description": "Sets `MAX_DEPOSITS_PER_BLOCK`. Only callable by the owner.",
      "parameterDecorators": [
        {
          "name": "newValue",
          "description": "",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "setMinDepositBlockDistance(uint256)",
      "name": "setMinDepositBlockDistance",
      "description": "Sets `MIN_DEPOSIT_BLOCK_DISTANCE`. Only callable by the owner.",
      "parameterDecorators": [
        {
          "name": "newValue",
          "description": "",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "setNodeOperatorsRegistry(address)",
      "name": "setNodeOperatorsRegistry",
      "description": "Sets NodeOperatorsRegistry contract address. Only callable by the owner.",
      "parameterDecorators": [
        {
          "name": "newValue",
          "description": "",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "setOwner(address)",
      "name": "setOwner",
      "description": "Sets new owner. Only callable by the current owner.",
      "parameterDecorators": [
        {
          "name": "newValue",
          "description": "",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "setPauseIntentValidityPeriodBlocks(uint256)",
      "name": "setPauseIntentValidityPeriodBlocks",
      "description": "Sets `PAUSE_INTENT_VALIDITY_PERIOD_BLOCKS`. Only callable by the owner.",
      "parameterDecorators": [
        {
          "name": "newValue",
          "description": "",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "unpauseDeposits()",
      "name": "unpauseDeposits",
      "description": "Unpauses deposits. Only callable by the owner.",
      "parameterDecorators": [],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    }
  ]
}