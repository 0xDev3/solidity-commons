{
  "schema": "../schema.json",
  "tags": [],
  "name": "BancorFormula",
  "description": "",
  "eventDecorators": [],
  "functionDecorators": [
    {
      "signature": "calculateCrossConnectorReturn(uint256,uint32,uint256,uint32,uint256)",
      "name": "calculateCrossConnectorReturn",
      "description": "given two connector balances/weights and a sell amount (in the first connector token), calculates the return for a conversion from the first connector token to the second connector token (in the second connector token) Formula: Return = _toConnectorBalance * (1 - (_fromConnectorBalance / (_fromConnectorBalance + _amount)) ^ (_fromConnectorWeight / _toConnectorWeight)).",
      "parameterDecorators": [
        {
          "name": "_fromConnectorBalance",
          "description": "input connector balance.",
          "recommendedTypes": []
        },
        {
          "name": "_fromConnectorWeight",
          "description": "input connector weight, represented in ppm, 1-1000000.",
          "recommendedTypes": []
        },
        {
          "name": "_toConnectorBalance",
          "description": "output connector balance.",
          "recommendedTypes": []
        },
        {
          "name": "_toConnectorWeight",
          "description": "output connector weight, represented in ppm, 1-1000000.",
          "recommendedTypes": []
        },
        {
          "name": "_amount",
          "description": "input connector amount.",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [
        {
          "name": "_0",
          "description": "second connector amount.",
          "recommendedTypes": [],
          "solidityType": "uint256"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "calculatePurchaseReturn(uint256,uint256,uint32,uint256)",
      "name": "calculatePurchaseReturn",
      "description": "given a token supply, connector balance, weight and a deposit amount (in the connector token), calculates the return for a given conversion (in the main token) Formula: Return = _supply * ((1 + _depositAmount / _connectorBalance) ^ (_connectorWeight / 1000000) - 1).",
      "parameterDecorators": [
        {
          "name": "_supply",
          "description": "token total supply.",
          "recommendedTypes": []
        },
        {
          "name": "_connectorBalance",
          "description": "total connector balance.",
          "recommendedTypes": []
        },
        {
          "name": "_connectorWeight",
          "description": "connector weight, represented in ppm, 1-1000000.",
          "recommendedTypes": []
        },
        {
          "name": "_depositAmount",
          "description": "deposit amount, in connector token.",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [
        {
          "name": "_0",
          "description": "purchase return amount.",
          "recommendedTypes": [],
          "solidityType": "uint256"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "calculateSaleReturn(uint256,uint256,uint32,uint256)",
      "name": "calculateSaleReturn",
      "description": "given a token supply, connector balance, weight and a sell amount (in the main token), calculates the return for a given conversion (in the connector token) Formula: Return = _connectorBalance * (1 - (1 - _sellAmount / _supply) ^ (1 / (_connectorWeight / 1000000))).",
      "parameterDecorators": [
        {
          "name": "_supply",
          "description": "token total supply.",
          "recommendedTypes": []
        },
        {
          "name": "_connectorBalance",
          "description": "total connector.",
          "recommendedTypes": []
        },
        {
          "name": "_connectorWeight",
          "description": "constant connector Weight, represented in ppm, 1-1000000.",
          "recommendedTypes": []
        },
        {
          "name": "_sellAmount",
          "description": "sell amount, in the token itself.",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [
        {
          "name": "_0",
          "description": "sale return amount.",
          "recommendedTypes": [],
          "solidityType": "uint256"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "version()",
      "name": "version",
      "description": "",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "string"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    }
  ]
}