{
  "schema": "../schema.json",
  "tags": [
    "tokens",
    "staking",
    "borrowing",
    "loans",
    "locking",
    "voting",
    "voting"
  ],
  "name": "TrueRatingAgency",
  "description": "TrueRatingAgency.",
  "eventDecorators": [
    {
      "signature": "Allowed(address,bool)",
      "name": "Allowed",
      "description": "Emitted when a Migration is executed.",
      "parameterDecorators": [
        {
          "name": "who",
          "description": "",
          "recommendedTypes": [],
          "indexed": true
        },
        {
          "name": "status",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        }
      ]
    },
    {
      "signature": "BurnFactorChanged(uint256)",
      "name": "BurnFactorChanged",
      "description": "Emitted when a Migration is executed.",
      "parameterDecorators": [
        {
          "name": "burnFactor",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        }
      ]
    },
    {
      "signature": "LoanRetracted(address)",
      "name": "LoanRetracted",
      "description": "Emitted when a Migration is executed.",
      "parameterDecorators": [
        {
          "name": "id",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        }
      ]
    },
    {
      "signature": "LoanSubmitted(address)",
      "name": "LoanSubmitted",
      "description": "Emitted when a Migration is executed.",
      "parameterDecorators": [
        {
          "name": "id",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        }
      ]
    },
    {
      "signature": "LossFactorChanged(uint256)",
      "name": "LossFactorChanged",
      "description": "Emitted when a Migration is executed.",
      "parameterDecorators": [
        {
          "name": "lossFactor",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        }
      ]
    },
    {
      "signature": "OwnershipTransferred(address,address)",
      "name": "OwnershipTransferred",
      "description": "Emitted when a Migration is executed.",
      "parameterDecorators": [
        {
          "name": "previousOwner",
          "description": "",
          "recommendedTypes": [],
          "indexed": true
        },
        {
          "name": "newOwner",
          "description": "",
          "recommendedTypes": [],
          "indexed": true
        }
      ]
    },
    {
      "signature": "Voted(address,address,bool,uint256)",
      "name": "Voted",
      "description": "Emitted when a Migration is executed.",
      "parameterDecorators": [
        {
          "name": "loanToken",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        },
        {
          "name": "voter",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        },
        {
          "name": "choice",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        },
        {
          "name": "stake",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        }
      ]
    },
    {
      "signature": "Withdrawn(address,address,uint256,uint256,uint256)",
      "name": "Withdrawn",
      "description": "Emitted when a Migration is executed.",
      "parameterDecorators": [
        {
          "name": "loanToken",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        },
        {
          "name": "voter",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        },
        {
          "name": "stake",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        },
        {
          "name": "received",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        },
        {
          "name": "burned",
          "description": "",
          "recommendedTypes": [],
          "indexed": false
        }
      ]
    }
  ],
  "functionDecorators": [
    {
      "signature": "allow(address,bool)",
      "name": "allow",
      "description": "Whitelist borrwers to submit loans for rating.",
      "parameterDecorators": [
        {
          "name": "who",
          "description": "Account to whitelist.",
          "recommendedTypes": []
        },
        {
          "name": "status",
          "description": "Flag to whitelist accounts.",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "allowedSubmitters(address)",
      "name": "allowedSubmitters",
      "description": "",
      "parameterDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "bool"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "burnFactor()",
      "name": "burnFactor",
      "description": "",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "uint256"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "claim(address,address)",
      "name": "claim",
      "description": "Claim TRU rewards for voters - Only can claim TRU rewards for funded loans - Voters can claim a portion of their total rewards over time - Claimed automatically when a user withdraws stake chi = (TRU remaining in distributor) / (Total TRU allocated for distribution) interest = (loan APY * term * principal) R = Total Reward = (interest * chi) R is distributed to voters based on their proportion of votes/total_votes Claimable reward = R x (current time / total time) * (account TRU staked / total TRU staked) - (amount claimed).",
      "parameterDecorators": [
        {
          "name": "id",
          "description": "Loan ID.",
          "recommendedTypes": []
        },
        {
          "name": "voter",
          "description": "Voter account.",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "distributor()",
      "name": "distributor",
      "description": "",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "address"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "factory()",
      "name": "factory",
      "description": "",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "address"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "getNoVote(address,address)",
      "name": "getNoVote",
      "description": "Get number of NO votes for a specific account and loan.",
      "parameterDecorators": [
        {
          "name": "id",
          "description": "Loan ID.",
          "recommendedTypes": []
        },
        {
          "name": "voter",
          "description": "Voter account.",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "uint256"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "getResults(address)",
      "name": "getResults",
      "description": "Get current results for a specific loan.",
      "parameterDecorators": [
        {
          "name": "id",
          "description": "Loan ID.",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "uint256"
        },
        {
          "name": "param1",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "uint256"
        },
        {
          "name": "param2",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "uint256"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "getTotalNoVotes(address)",
      "name": "getTotalNoVotes",
      "description": "Get total NO votes for a specific loan.",
      "parameterDecorators": [
        {
          "name": "id",
          "description": "Loan ID.",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "uint256"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "getTotalYesVotes(address)",
      "name": "getTotalYesVotes",
      "description": "Get total YES votes for a specific loan.",
      "parameterDecorators": [
        {
          "name": "id",
          "description": "Loan ID.",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "uint256"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "getVotingStart(address)",
      "name": "getVotingStart",
      "description": "Get timestamp at which voting started for a specific loan.",
      "parameterDecorators": [
        {
          "name": "id",
          "description": "Loan ID.",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "uint256"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "getYesVote(address,address)",
      "name": "getYesVote",
      "description": "Get number of YES votes for a specific account and loan.",
      "parameterDecorators": [
        {
          "name": "id",
          "description": "Loan ID.",
          "recommendedTypes": []
        },
        {
          "name": "voter",
          "description": "Voter account.",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "uint256"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "initialize(address,address,address)",
      "name": "initialize",
      "description": "Initalize Rating Agenct Distributor contract decides how much TRU is rewarded to stakers.",
      "parameterDecorators": [
        {
          "name": "_trustToken",
          "description": "TRU contract.",
          "recommendedTypes": []
        },
        {
          "name": "_distributor",
          "description": "Distributor contract.",
          "recommendedTypes": []
        },
        {
          "name": "_factory",
          "description": "Factory contract for deploying tokens.",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "loans(address)",
      "name": "loans",
      "description": "",
      "parameterDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [
        {
          "name": "creator",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "address"
        },
        {
          "name": "timestamp",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "uint256"
        },
        {
          "name": "reward",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "uint256"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "lossFactor()",
      "name": "lossFactor",
      "description": "",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "uint256"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "no(address,uint256)",
      "name": "no",
      "description": "Vote NO on a loan by staking TRU.",
      "parameterDecorators": [
        {
          "name": "id",
          "description": "Loan ID.",
          "recommendedTypes": []
        },
        {
          "name": "stake",
          "description": "Amount of TRU to stake.",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "owner()",
      "name": "owner",
      "description": "Returns the address of the current owner.",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "address"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "renounceOwnership()",
      "name": "renounceOwnership",
      "description": "Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner.",
      "parameterDecorators": [],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "retract(address)",
      "name": "retract",
      "description": "Remove Loan from rating agency Can only be retracted by loan creator.",
      "parameterDecorators": [
        {
          "name": "id",
          "description": "Loan ID.",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "setBurnFactor(uint256)",
      "name": "setBurnFactor",
      "description": "Set burn factor. Burn factor decides what percentage of lost TRU is burned.",
      "parameterDecorators": [
        {
          "name": "newBurnFactor",
          "description": "",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "setLossFactor(uint256)",
      "name": "setLossFactor",
      "description": "Set loss factor. Loss factor decides what percentage of TRU is lost for incorrect votes.",
      "parameterDecorators": [
        {
          "name": "newLossFactor",
          "description": "New loss factor.",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "status(address)",
      "name": "status",
      "description": "Get status for a specific loan We rely on correct implementation of LoanToken.",
      "parameterDecorators": [
        {
          "name": "id",
          "description": "Loan ID.",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [
        {
          "name": "_0",
          "description": "Status of loan.",
          "recommendedTypes": [],
          "solidityType": "uint8"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "submit(address)",
      "name": "submit",
      "description": "Submit a loan for rating Cannot submit the same loan twice.",
      "parameterDecorators": [
        {
          "name": "id",
          "description": "Loan ID.",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "transferOwnership(address)",
      "name": "transferOwnership",
      "description": "Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.",
      "parameterDecorators": [
        {
          "name": "newOwner",
          "description": "",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "trustToken()",
      "name": "trustToken",
      "description": "",
      "parameterDecorators": [],
      "returnDecorators": [
        {
          "name": "param0",
          "description": "",
          "recommendedTypes": [],
          "solidityType": "address"
        }
      ],
      "emittableEvents": [],
      "readOnly": true
    },
    {
      "signature": "withdraw(address,uint256)",
      "name": "withdraw",
      "description": "Withdraw stake on a loan and remove votes. Unstaking only allowed for loans that are not Running.",
      "parameterDecorators": [
        {
          "name": "id",
          "description": "Loan ID.",
          "recommendedTypes": []
        },
        {
          "name": "stake",
          "description": "Amount of TRU to unstake.",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    },
    {
      "signature": "yes(address,uint256)",
      "name": "yes",
      "description": "Vote YES on a loan by staking TRU.",
      "parameterDecorators": [
        {
          "name": "id",
          "description": "Loan ID.",
          "recommendedTypes": []
        },
        {
          "name": "stake",
          "description": "Amount of TRU to stake.",
          "recommendedTypes": []
        }
      ],
      "returnDecorators": [],
      "emittableEvents": [],
      "readOnly": false
    }
  ]
}