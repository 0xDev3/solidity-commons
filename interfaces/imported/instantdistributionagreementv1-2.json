{"schema":"../schema.json","tags":[],"name":"InstantDistributionAgreementV1","description":"The IInstantDistributionAgreementV1 implementation NOTE: - Please read IInstantDistributionAgreementV1 for implementation notes. - For some deeper technical notes, please visit protocol-monorepo wiki area.","eventDecorators":[{"signature":"CodeUpdated(bytes32,address)","name":"CodeUpdated","description":"Emitted when someone's membership role is being updated.","parameterDecorators":[{"name":"uuid","description":"","recommendedTypes":[],"indexed":false},{"name":"codeAddress","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"IndexCreated(address,address,uint32,bytes)","name":"IndexCreated","description":"Emitted when someone's membership role is being updated.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[],"indexed":true},{"name":"publisher","description":"","recommendedTypes":[],"indexed":true},{"name":"indexId","description":"","recommendedTypes":[],"indexed":true},{"name":"userData","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"IndexDistributionClaimed(address,address,uint32,address,uint256)","name":"IndexDistributionClaimed","description":"Emitted when someone's membership role is being updated.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[],"indexed":true},{"name":"publisher","description":"","recommendedTypes":[],"indexed":true},{"name":"indexId","description":"","recommendedTypes":[],"indexed":true},{"name":"subscriber","description":"","recommendedTypes":[],"indexed":false},{"name":"amount","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"IndexSubscribed(address,address,uint32,address,bytes)","name":"IndexSubscribed","description":"Emitted when someone's membership role is being updated.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[],"indexed":true},{"name":"publisher","description":"","recommendedTypes":[],"indexed":true},{"name":"indexId","description":"","recommendedTypes":[],"indexed":true},{"name":"subscriber","description":"","recommendedTypes":[],"indexed":false},{"name":"userData","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"IndexUnitsUpdated(address,address,uint32,address,uint128,bytes)","name":"IndexUnitsUpdated","description":"Emitted when someone's membership role is being updated.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[],"indexed":true},{"name":"publisher","description":"","recommendedTypes":[],"indexed":true},{"name":"indexId","description":"","recommendedTypes":[],"indexed":true},{"name":"subscriber","description":"","recommendedTypes":[],"indexed":false},{"name":"units","description":"","recommendedTypes":[],"indexed":false},{"name":"userData","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"IndexUnsubscribed(address,address,uint32,address,bytes)","name":"IndexUnsubscribed","description":"Emitted when someone's membership role is being updated.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[],"indexed":true},{"name":"publisher","description":"","recommendedTypes":[],"indexed":true},{"name":"indexId","description":"","recommendedTypes":[],"indexed":true},{"name":"subscriber","description":"","recommendedTypes":[],"indexed":false},{"name":"userData","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"IndexUpdated(address,address,uint32,uint128,uint128,uint128,uint128,bytes)","name":"IndexUpdated","description":"Emitted when someone's membership role is being updated.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[],"indexed":true},{"name":"publisher","description":"","recommendedTypes":[],"indexed":true},{"name":"indexId","description":"","recommendedTypes":[],"indexed":true},{"name":"oldIndexValue","description":"","recommendedTypes":[],"indexed":false},{"name":"newIndexValue","description":"","recommendedTypes":[],"indexed":false},{"name":"totalUnitsPending","description":"","recommendedTypes":[],"indexed":false},{"name":"totalUnitsApproved","description":"","recommendedTypes":[],"indexed":false},{"name":"userData","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"SubscriptionApproved(address,address,address,uint32,bytes)","name":"SubscriptionApproved","description":"Emitted when someone's membership role is being updated.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[],"indexed":true},{"name":"subscriber","description":"","recommendedTypes":[],"indexed":true},{"name":"publisher","description":"","recommendedTypes":[],"indexed":false},{"name":"indexId","description":"","recommendedTypes":[],"indexed":false},{"name":"userData","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"SubscriptionDistributionClaimed(address,address,address,uint32,uint256)","name":"SubscriptionDistributionClaimed","description":"Emitted when someone's membership role is being updated.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[],"indexed":true},{"name":"subscriber","description":"","recommendedTypes":[],"indexed":true},{"name":"publisher","description":"","recommendedTypes":[],"indexed":false},{"name":"indexId","description":"","recommendedTypes":[],"indexed":false},{"name":"amount","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"SubscriptionRevoked(address,address,address,uint32,bytes)","name":"SubscriptionRevoked","description":"Emitted when someone's membership role is being updated.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[],"indexed":true},{"name":"subscriber","description":"","recommendedTypes":[],"indexed":true},{"name":"publisher","description":"","recommendedTypes":[],"indexed":false},{"name":"indexId","description":"","recommendedTypes":[],"indexed":false},{"name":"userData","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"SubscriptionUnitsUpdated(address,address,address,uint32,uint128,bytes)","name":"SubscriptionUnitsUpdated","description":"Emitted when someone's membership role is being updated.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[],"indexed":true},{"name":"subscriber","description":"","recommendedTypes":[],"indexed":true},{"name":"publisher","description":"","recommendedTypes":[],"indexed":false},{"name":"indexId","description":"","recommendedTypes":[],"indexed":false},{"name":"units","description":"","recommendedTypes":[],"indexed":false},{"name":"userData","description":"","recommendedTypes":[],"indexed":false}]}],"functionDecorators":[{"signature":"SLOTS_BITMAP_LIBRARY_ADDRESS()","name":"SLOTS_BITMAP_LIBRARY_ADDRESS","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"agreementType()","name":"agreementType","description":"ISuperAgreement.agreementType implementation.","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bytes32"}],"emittableEvents":[],"readOnly":true},{"signature":"approveSubscription(address,address,uint32,bytes)","name":"approveSubscription","description":"IInstantDistributionAgreementV1.approveSubscription implementation.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[]},{"name":"publisher","description":"","recommendedTypes":[]},{"name":"indexId","description":"","recommendedTypes":[]},{"name":"ctx","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"newCtx","description":"","recommendedTypes":[],"solidityType":"bytes"}],"emittableEvents":[],"readOnly":false},{"signature":"calculateDistribution(address,address,uint32,uint256)","name":"calculateDistribution","description":"IInstantDistributionAgreementV1.calculateDistribution implementation.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[]},{"name":"publisher","description":"","recommendedTypes":[]},{"name":"indexId","description":"","recommendedTypes":[]},{"name":"amount","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"actualAmount","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"newIndexValue","description":"","recommendedTypes":[],"solidityType":"uint128"}],"emittableEvents":[],"readOnly":true},{"signature":"claim(address,address,uint32,address,bytes)","name":"claim","description":"Claim pending distributions.","parameterDecorators":[{"name":"token","description":"Super token address.","recommendedTypes":[]},{"name":"publisher","description":"The publisher of the index.","recommendedTypes":[]},{"name":"indexId","description":"Id of the index.","recommendedTypes":[]},{"name":"subscriber","description":"The user, a subscriber. The subscription should not exist yet. # App callbacks - AgreementUpdated callback to the publisher: - agreementId is for the subscription.","recommendedTypes":[]},{"name":"ctx","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"newCtx","description":"","recommendedTypes":[],"solidityType":"bytes"}],"emittableEvents":[],"readOnly":false},{"signature":"createIndex(address,uint32,bytes)","name":"createIndex","description":"IInstantDistributionAgreementV1.createIndex implementation.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[]},{"name":"indexId","description":"","recommendedTypes":[]},{"name":"ctx","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"newCtx","description":"","recommendedTypes":[],"solidityType":"bytes"}],"emittableEvents":[],"readOnly":false},{"signature":"deleteSubscription(address,address,uint32,address,bytes)","name":"deleteSubscription","description":"IInstantDistributionAgreementV1.deleteSubscription implementation.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[]},{"name":"publisher","description":"","recommendedTypes":[]},{"name":"indexId","description":"","recommendedTypes":[]},{"name":"subscriber","description":"","recommendedTypes":[]},{"name":"ctx","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"newCtx","description":"","recommendedTypes":[],"solidityType":"bytes"}],"emittableEvents":[],"readOnly":false},{"signature":"distribute(address,uint32,uint256,bytes)","name":"distribute","description":"IInstantDistributionAgreementV1.distribute implementation.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[]},{"name":"indexId","description":"","recommendedTypes":[]},{"name":"amount","description":"","recommendedTypes":[]},{"name":"ctx","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"newCtx","description":"","recommendedTypes":[],"solidityType":"bytes"}],"emittableEvents":[],"readOnly":false},{"signature":"getCodeAddress()","name":"getCodeAddress","description":"Get current implementation code address.","parameterDecorators":[],"returnDecorators":[{"name":"codeAddress","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"getIndex(address,address,uint32)","name":"getIndex","description":"IInstantDistributionAgreementV1.getIndex implementation.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[]},{"name":"publisher","description":"","recommendedTypes":[]},{"name":"indexId","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"exist","description":"","recommendedTypes":[],"solidityType":"bool"},{"name":"indexValue","description":"","recommendedTypes":[],"solidityType":"uint128"},{"name":"totalUnitsApproved","description":"","recommendedTypes":[],"solidityType":"uint128"},{"name":"totalUnitsPending","description":"","recommendedTypes":[],"solidityType":"uint128"}],"emittableEvents":[],"readOnly":true},{"signature":"getSubscription(address,address,uint32,address)","name":"getSubscription","description":"IInstantDistributionAgreementV1.getSubscription implementation.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[]},{"name":"publisher","description":"","recommendedTypes":[]},{"name":"indexId","description":"","recommendedTypes":[]},{"name":"subscriber","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"exist","description":"","recommendedTypes":[],"solidityType":"bool"},{"name":"approved","description":"","recommendedTypes":[],"solidityType":"bool"},{"name":"units","description":"","recommendedTypes":[],"solidityType":"uint128"},{"name":"pendingDistribution","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"getSubscriptionByID(address,bytes32)","name":"getSubscriptionByID","description":"IInstantDistributionAgreementV1.getSubscriptionByID implementation.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[]},{"name":"agreementId","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"publisher","description":"","recommendedTypes":[],"solidityType":"address"},{"name":"indexId","description":"","recommendedTypes":[],"solidityType":"uint32"},{"name":"approved","description":"","recommendedTypes":[],"solidityType":"bool"},{"name":"units","description":"","recommendedTypes":[],"solidityType":"uint128"},{"name":"pendingDistribution","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"listSubscriptions(address,address)","name":"listSubscriptions","description":"IInstantDistributionAgreementV1.listSubscriptions implementation.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[]},{"name":"subscriber","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"publishers","description":"","recommendedTypes":[],"solidityType":"address[]"},{"name":"indexIds","description":"","recommendedTypes":[],"solidityType":"uint32[]"},{"name":"unitsList","description":"","recommendedTypes":[],"solidityType":"uint128[]"}],"emittableEvents":[],"readOnly":true},{"signature":"proxiableUUID()","name":"proxiableUUID","description":"Proxiable UUID marker function, this would help to avoid wrong logic contract to be used for upgrading. NOTE: The semantics of the UUID deviates from the actual UUPS standard, where it is equivalent of _IMPLEMENTATION_SLOT.","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bytes32"}],"emittableEvents":[],"readOnly":true},{"signature":"realtimeBalanceOf(address,address,uint256)","name":"realtimeBalanceOf","description":"ISuperAgreement.realtimeBalanceOf implementation.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[]},{"name":"account","description":"","recommendedTypes":[]},{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"dynamicBalance","description":"","recommendedTypes":[],"solidityType":"int256"},{"name":"deposit","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"owedDeposit","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"revokeSubscription(address,address,uint32,bytes)","name":"revokeSubscription","description":"IInstantDistributionAgreementV1.revokeSubscription implementation.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[]},{"name":"publisher","description":"","recommendedTypes":[]},{"name":"indexId","description":"","recommendedTypes":[]},{"name":"ctx","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"newCtx","description":"","recommendedTypes":[],"solidityType":"bytes"}],"emittableEvents":[],"readOnly":false},{"signature":"updateCode(address)","name":"updateCode","description":"","parameterDecorators":[{"name":"newAddress","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"updateIndex(address,uint32,uint128,bytes)","name":"updateIndex","description":"IInstantDistributionAgreementV1.updateIndex implementation.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[]},{"name":"indexId","description":"","recommendedTypes":[]},{"name":"indexValue","description":"","recommendedTypes":[]},{"name":"ctx","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"newCtx","description":"","recommendedTypes":[],"solidityType":"bytes"}],"emittableEvents":[],"readOnly":false},{"signature":"updateSubscription(address,uint32,address,uint128,bytes)","name":"updateSubscription","description":"IInstantDistributionAgreementV1.updateSubscription implementation.","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[]},{"name":"indexId","description":"","recommendedTypes":[]},{"name":"subscriber","description":"","recommendedTypes":[]},{"name":"units","description":"","recommendedTypes":[]},{"name":"ctx","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"newCtx","description":"","recommendedTypes":[],"solidityType":"bytes"}],"emittableEvents":[],"readOnly":false}]}