{"schema":"../schema.json","tags":["tokens"],"name":"DoTxGameContract","description":"DeFi Of Thrones Game Contract.","eventDecorators":[{"signature":"ClaimReward(uint256,uint256,uint256,address,string)","name":"ClaimReward","description":"Event for token purchase logging.","parameterDecorators":[{"name":"warIndex","description":"","recommendedTypes":[],"indexed":false},{"name":"reward","description":"","recommendedTypes":[],"indexed":false},{"name":"balance","description":"","recommendedTypes":[],"indexed":false},{"name":"sender","description":"","recommendedTypes":[],"indexed":false},{"name":"txType","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"OwnershipTransferred(address,address)","name":"OwnershipTransferred","description":"Event for token purchase logging.","parameterDecorators":[{"name":"previousOwner","description":"","recommendedTypes":[],"indexed":true},{"name":"newOwner","description":"","recommendedTypes":[],"indexed":true}]},{"signature":"StakeBurn(uint256,uint256,uint256)","name":"StakeBurn","description":"Event for token purchase logging.","parameterDecorators":[{"name":"warIndex","description":"","recommendedTypes":[],"indexed":false},{"name":"burnValue","description":"","recommendedTypes":[],"indexed":false},{"name":"stakeValue","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"SwitchHouse(uint256,string,string,address,uint256)","name":"SwitchHouse","description":"Event for token purchase logging.","parameterDecorators":[{"name":"warIndex","description":"","recommendedTypes":[],"indexed":false},{"name":"from","description":"","recommendedTypes":[],"indexed":false},{"name":"to","description":"","recommendedTypes":[],"indexed":false},{"name":"sender","description":"","recommendedTypes":[],"indexed":false},{"name":"valueInDoTx","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"TicketBought(uint256,string,uint256,address,string)","name":"TicketBought","description":"Event for token purchase logging.","parameterDecorators":[{"name":"warIndex","description":"","recommendedTypes":[],"indexed":false},{"name":"house","description":"","recommendedTypes":[],"indexed":false},{"name":"valueInDoTx","description":"","recommendedTypes":[],"indexed":false},{"name":"sender","description":"","recommendedTypes":[],"indexed":false},{"name":"txType","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"WarStarted(uint256)","name":"WarStarted","description":"Event for token purchase logging.","parameterDecorators":[{"name":"warIndex","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"closePriceFetched(uint256)","name":"closePriceFetched","description":"Event for token purchase logging.","parameterDecorators":[{"name":"warIndex","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"openPriceFetched(uint256)","name":"openPriceFetched","description":"Event for token purchase logging.","parameterDecorators":[{"name":"warIndex","description":"","recommendedTypes":[],"indexed":false}]}],"functionDecorators":[{"signature":"BURN_ADDRESS()","name":"BURN_ADDRESS","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"burnPercentage()","name":"burnPercentage","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"buyTickets(string,uint256,uint256)","name":"buyTickets","description":"Buy ticket(s) for the current war - only if tickets are purchasable -> purchasePeriod Parameters : _houseTicker House ticker _numberOfTicket The number of tickets the user wants to buy*.","parameterDecorators":[{"name":"_houseTicker","description":"","recommendedTypes":[]},{"name":"_numberOfTicket","description":"","recommendedTypes":[]},{"name":"warIndex","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"bytes32ToString(bytes32)","name":"bytes32ToString","description":"Convert bytes32 to string*.","parameterDecorators":[{"name":"x","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"string"}],"emittableEvents":[],"readOnly":true},{"signature":"calculateBurnStaking(tuple(bytes32,bytes32,uint256,uint256,uint256),bool,uint256)","name":"calculateBurnStaking","description":"","parameterDecorators":[{"name":"house","description":"","recommendedTypes":[],"parameters":[{"name":"houseTicker","description":"","type":"bytes32"},{"name":"houseId","description":"","type":"bytes32"},{"name":"openPrice","description":"","type":"uint256"},{"name":"closePrice","description":"","type":"uint256"},{"name":"ticketsBought","description":"","type":"uint256"}]},{"name":"isBurn","description":"","recommendedTypes":[]},{"name":"warIndex","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"claimRewardAndTickets(uint256)","name":"claimRewardAndTickets","description":"Allow users who pledged allegiance to the winning house to claim bought tickets + reward Parameters :*.","parameterDecorators":[{"name":"warIndex","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":false},{"signature":"dotxLibAddress()","name":"dotxLibAddress","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"fetchFirstDayPrices(uint256)","name":"fetchFirstDayPrices","description":"Fetch the prices for the 2 houses the first day for the current war*.","parameterDecorators":[{"name":"warIndex","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"fetchLastDayPrices(uint256)","name":"fetchLastDayPrices","description":"Fetch the prices for the 2 houses the last day for the current war*.","parameterDecorators":[{"name":"warIndex","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"firstHouseClose(uint256,uint256)","name":"firstHouseClose","description":"Handler method called by Chainlink for the first house close price *.","parameterDecorators":[{"name":"_price","description":"","recommendedTypes":[]},{"name":"warIndex","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"firstHouseOpen(uint256,uint256)","name":"firstHouseOpen","description":"Handler method called by Chainlink for the first house open price *.","parameterDecorators":[{"name":"_price","description":"","recommendedTypes":[]},{"name":"warIndex","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"getBurnStake(uint256)","name":"getBurnStake","description":"Return burn stake information*.","parameterDecorators":[{"name":"warIndex","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"tuple"}],"emittableEvents":[],"readOnly":true},{"signature":"getCurrentReward(bytes32,address,uint256)","name":"getCurrentReward","description":"","parameterDecorators":[{"name":"_winningHouse","description":"","recommendedTypes":[]},{"name":"userAddress","description":"","recommendedTypes":[]},{"name":"warIndex","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"getCurrentRewardString(string,address,uint256)","name":"getCurrentRewardString","description":"Calculate the reward for the current user*.","parameterDecorators":[{"name":"_winningHouse","description":"","recommendedTypes":[]},{"name":"userAddress","description":"","recommendedTypes":[]},{"name":"warIndex","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"getFeesForSwitchHouse(address,uint256)","name":"getFeesForSwitchHouse","description":"","parameterDecorators":[{"name":"userAddress","description":"","recommendedTypes":[]},{"name":"warIndex","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"getHouse(uint256,string)","name":"getHouse","description":"Return house for a specific war*.","parameterDecorators":[{"name":"_warIndex","description":"","recommendedTypes":[]},{"name":"houseTicker","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"tuple"}],"emittableEvents":[],"readOnly":true},{"signature":"getUser(uint256,address)","name":"getUser","description":"Returns the current user*.","parameterDecorators":[{"name":"_warIndex","description":"","recommendedTypes":[]},{"name":"userAddress","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"tuple"}],"emittableEvents":[],"readOnly":true},{"signature":"getUserDoTxInBalance(uint256,address)","name":"getUserDoTxInBalance","description":"Get user (ticketsBought * ticketPrice) - user fees*.","parameterDecorators":[{"name":"_warIndex","description":"","recommendedTypes":[]},{"name":"userAddress","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"getWarsHouses(uint256,uint256)","name":"getWarsHouses","description":"","parameterDecorators":[{"name":"min","description":"","recommendedTypes":[]},{"name":"max","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"tuple[20]"}],"emittableEvents":[],"readOnly":true},{"signature":"multiplicator()","name":"multiplicator","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"int256"}],"emittableEvents":[],"readOnly":true},{"signature":"owner()","name":"owner","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"owner2()","name":"owner2","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"secondHouseClose(uint256,uint256)","name":"secondHouseClose","description":"Handler method called by Chainlink for the second house close price *.","parameterDecorators":[{"name":"_price","description":"","recommendedTypes":[]},{"name":"warIndex","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"secondHouseOpen(uint256,uint256)","name":"secondHouseOpen","description":"Handler method called by Chainlink for the second house open price *.","parameterDecorators":[{"name":"_price","description":"","recommendedTypes":[]},{"name":"warIndex","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"selectWinner(uint256)","name":"selectWinner","description":"Elect the winner based on open prices & close prices*.","parameterDecorators":[{"name":"warIndex","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"selecteWinnerPrecision()","name":"selecteWinnerPrecision","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"setDoTxLib(address,bool)","name":"setDoTxLib","description":"Let owner set the DoTxLib address*.","parameterDecorators":[{"name":"dotxLibAddr","description":"","recommendedTypes":[]},{"name":"setupAddressInLib","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setMultiplicator(int256)","name":"setMultiplicator","description":"Precision of the prices receive from WS*.","parameterDecorators":[{"name":"_multiplicator","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setMultiplicatorWar(int256,uint256)","name":"setMultiplicatorWar","description":"Precision of the prices receive from WS*.","parameterDecorators":[{"name":"_multiplicator","description":"","recommendedTypes":[]},{"name":"warIndex","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setOwner2(address)","name":"setOwner2","description":"","parameterDecorators":[{"name":"ownerAddress","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setSelectWinnerPrecision(uint256)","name":"setSelectWinnerPrecision","description":"Set the select winner precision used for calculate the best house's performance*.","parameterDecorators":[{"name":"_precision","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setStakingAddress(address)","name":"setStakingAddress","description":"Let owner update stakingAddress*.","parameterDecorators":[{"name":"stakingAdr","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setStakingBurnPercentage(uint256,uint256)","name":"setStakingBurnPercentage","description":"Set staking % of the losing house's DoTx to send*.","parameterDecorators":[{"name":"_burnPercentage","description":"","recommendedTypes":[]},{"name":"_stakingPercentage","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setStakingBurnPercentageWar(uint256,uint256,uint256)","name":"setStakingBurnPercentageWar","description":"Set staking % of the losing house's DoTx to send for the currentWar*.","parameterDecorators":[{"name":"_burnPercentage","description":"","recommendedTypes":[]},{"name":"_stakingPercentage","description":"","recommendedTypes":[]},{"name":"warIndex","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"stakingPercentage()","name":"stakingPercentage","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"startWar(string,string,string,string,uint256,uint256,uint256,uint256,uint256)","name":"startWar","description":"Start a war only if the previous is finished Parameters : _firstHouseTicker First house ticker _secondHouseTicker Second house ticker _duration Duration of the war in seconds _ticketPrice Ticket price : Number of DoTx needed to buy a ticket (in wei precision) purchasePeriod Number of seconds where the users can buy tickets from the starting date _warFeesPercent How many % fees it will cost to user to switch house _warIndex Index of the war in mapping*.","parameterDecorators":[{"name":"_firstHouseTicker","description":"","recommendedTypes":[]},{"name":"_secondHouseTicker","description":"","recommendedTypes":[]},{"name":"_firstHouseId","description":"","recommendedTypes":[]},{"name":"_secondHouseId","description":"","recommendedTypes":[]},{"name":"_duration","description":"","recommendedTypes":[]},{"name":"_ticketPrice","description":"","recommendedTypes":[]},{"name":"_purchasePeriod","description":"","recommendedTypes":[]},{"name":"_warFeesPercent","description":"","recommendedTypes":[]},{"name":"_warIndex","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":false},{"signature":"stringToBytes32(string)","name":"stringToBytes32","description":"Convert string to bytes32*.","parameterDecorators":[{"name":"source","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"result","description":"","recommendedTypes":[],"solidityType":"bytes32"}],"emittableEvents":[],"readOnly":true},{"signature":"switchHouse(string,string,uint256)","name":"switchHouse","description":"Switch house for the user - only if tickets are purchasable -> purchasePeriod Parameters : _fromHouseTicker Current house user pledged allegiance _toHouseTicker the house user wants to join*.","parameterDecorators":[{"name":"_fromHouseTicker","description":"","recommendedTypes":[]},{"name":"_toHouseTicker","description":"","recommendedTypes":[]},{"name":"warIndex","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"totalFees()","name":"totalFees","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"transferOwnership(address)","name":"transferOwnership","description":"","parameterDecorators":[{"name":"newOwner","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"wars(uint256)","name":"wars","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"startTime","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"duration","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"ticketPrice","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"purchasePeriod","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"winningHouse","description":"","recommendedTypes":[],"solidityType":"bytes32"},{"name":"warFeesPercent","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"multiplicator","description":"","recommendedTypes":[],"solidityType":"int256"},{"name":"burnPercentage","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"stakingPercentage","description":"","recommendedTypes":[],"solidityType":"uint256"},{"name":"firstHouse","description":"","recommendedTypes":[],"solidityType":"tuple"},{"name":"secondHouse","description":"","recommendedTypes":[],"solidityType":"tuple"}],"emittableEvents":[],"readOnly":true},{"signature":"withdrawFees()","name":"withdrawFees","description":"Let owner withdraw DoTx fees (in particular to pay the costs generated by Chainlink)*.","parameterDecorators":[],"returnDecorators":[],"emittableEvents":[],"readOnly":false}]}