{"schema":"../schema.json","tags":["swaps","flash loans","loans","curve finance","dydx"],"name":"MusdV3Rebalance4Pool","description":"Contract to rebalance mUSD bAssets to new weights for the mUSD V3 upgrade. VERSION: 1.0 DATE: 2021-03-22. Either DAI or USDC is flash loaned from DyDx to swap for TUSD or USDT in mUSD. Curve's TUSD pool (DAI, USDC, USDT and TUSD) or 3pool (DAI, USDC, USDT) is used to convert TUSD and USDT back to the flash loan currency.","eventDecorators":[{"signature":"Approval(address,address,uint256)","name":"Approval","description":"","parameterDecorators":[{"name":"owner","description":"","recommendedTypes":[],"indexed":true},{"name":"spender","description":"","recommendedTypes":[],"indexed":true},{"name":"value","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"FlashLoan(address,uint256,address,uint256)","name":"FlashLoan","description":"","parameterDecorators":[{"name":"flashToken","description":"","recommendedTypes":[],"indexed":false},{"name":"flashLoanAmount","description":"","recommendedTypes":[],"indexed":false},{"name":"funderAccount","description":"","recommendedTypes":[],"indexed":false},{"name":"flashLoanShortfall","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"OwnershipTransferred(address,address)","name":"OwnershipTransferred","description":"","parameterDecorators":[{"name":"previousOwner","description":"","recommendedTypes":[],"indexed":true},{"name":"newOwner","description":"","recommendedTypes":[],"indexed":true}]},{"signature":"Swapped(address,address,address,uint256,address)","name":"Swapped","description":"","parameterDecorators":[{"name":"swapper","description":"","recommendedTypes":[],"indexed":true},{"name":"input","description":"","recommendedTypes":[],"indexed":false},{"name":"output","description":"","recommendedTypes":[],"indexed":false},{"name":"outputAmount","description":"","recommendedTypes":[],"indexed":false},{"name":"recipient","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"TokenExchange(address,int128,uint256,int128,uint256)","name":"TokenExchange","description":"","parameterDecorators":[{"name":"buyer","description":"","recommendedTypes":[],"indexed":true},{"name":"sold_id","description":"","recommendedTypes":[],"indexed":false},{"name":"tokens_sold","description":"","recommendedTypes":[],"indexed":false},{"name":"bought_id","description":"","recommendedTypes":[],"indexed":false},{"name":"tokens_bought","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"TokenExchangeUnderlying(address,int128,uint256,int128,uint256)","name":"TokenExchangeUnderlying","description":"","parameterDecorators":[{"name":"buyer","description":"","recommendedTypes":[],"indexed":true},{"name":"sold_id","description":"","recommendedTypes":[],"indexed":false},{"name":"tokens_sold","description":"","recommendedTypes":[],"indexed":false},{"name":"bought_id","description":"","recommendedTypes":[],"indexed":false},{"name":"tokens_bought","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"Transfer(address,address,uint256)","name":"Transfer","description":"","parameterDecorators":[{"name":"from","description":"","recommendedTypes":[],"indexed":true},{"name":"to","description":"","recommendedTypes":[],"indexed":true},{"name":"value","description":"","recommendedTypes":[],"indexed":false}]}],"functionDecorators":[{"signature":"callFunction(address,tuple(address,uint256),bytes)","name":"callFunction","description":"Is called by DyDx after the flash loan has been transferred to this contract.","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]},{"name":"param1","description":"","recommendedTypes":[],"parameters":[{"name":"owner","description":"","type":"address"},{"name":"number","description":"","type":"uint256"}]},{"name":"data","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"currencies(address)","name":"currencies","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"owner()","name":"owner","description":"Returns the address of the current owner.","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"renounceOwnership()","name":"renounceOwnership","description":"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner.","parameterDecorators":[],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"swapOutTusd(address,uint256,address)","name":"swapOutTusd","description":"Convert TUSD in the mUSD basket to USDC or DAI using a DyDx flash loan. Assumes the funder has already approved this contract to transferFrom the shortfall from their account.","parameterDecorators":[{"name":"flashToken","description":"DAI or USDC token address.","recommendedTypes":[]},{"name":"flashAmount","description":"Amount to flash loan. For USDC is 6 decimal places. DAI is 18 decimals places.","recommendedTypes":[]},{"name":"funderAccount","description":"Account that will fund the shortfall of the DyDx USDC flash loan.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"swapOutTusdAndUsdt(address,uint256,address,uint256[])","name":"swapOutTusdAndUsdt","description":"Convert TUSD and USDT in the mUSD basket to USDC or DAI using a DyDx flash loan. Assumes the funder has already approved this contract to transferFrom the shortfall from their account.","parameterDecorators":[{"name":"flashToken","description":"DAI or USDC token address.","recommendedTypes":[]},{"name":"flashAmount","description":"Amount to flash loan. For USDC is 6 decimal places. DAI is 18 decimals places.","recommendedTypes":[]},{"name":"funderAccount","description":"Account that will fund the shortfall of the DyDx USDC flash loan.","recommendedTypes":[]},{"name":"swapInputs","description":"This mUSD swap inputs from the flash token to TUSD (at index 0) and USDT (at index 1).","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"tokenToMarketId(address)","name":"tokenToMarketId","description":"","parameterDecorators":[{"name":"token","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"transferOwnership(address)","name":"transferOwnership","description":"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.","parameterDecorators":[{"name":"newOwner","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false}]}