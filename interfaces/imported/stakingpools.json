{"schema":"../schema.json","tags":["tokens","swaps","staking"],"name":"StakingPools","description":"A contract which allows users to stake to farm tokens. This contract was inspired by Chef Nomi's 'MasterChef' contract which can be found in this repository: https://github.com/sushiswap/sushiswap.","eventDecorators":[{"signature":"GovernanceUpdated(address)","name":"GovernanceUpdated","description":"An event emitted when staked tokens are withdrawn.","parameterDecorators":[{"name":"governance","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"LockUpPeriodInSecsUpdated(uint256,uint256,uint256)","name":"LockUpPeriodInSecsUpdated","description":"An event emitted when staked tokens are withdrawn.","parameterDecorators":[{"name":"poolId","description":"","recommendedTypes":[],"indexed":true},{"name":"oldLockPeriodInSecs","description":"","recommendedTypes":[],"indexed":false},{"name":"newLockPeriodInSecs","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"NewReferralAdded(address,address)","name":"NewReferralAdded","description":"An event emitted when staked tokens are withdrawn.","parameterDecorators":[{"name":"referral","description":"","recommendedTypes":[],"indexed":false},{"name":"referee","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"PauseUpdated(bool)","name":"PauseUpdated","description":"An event emitted when staked tokens are withdrawn.","parameterDecorators":[{"name":"status","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"PendingGovernanceUpdated(address)","name":"PendingGovernanceUpdated","description":"An event emitted when staked tokens are withdrawn.","parameterDecorators":[{"name":"pendingGovernance","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"PoolCreated(uint256,address,uint256,uint256)","name":"PoolCreated","description":"An event emitted when staked tokens are withdrawn.","parameterDecorators":[{"name":"poolId","description":"","recommendedTypes":[],"indexed":true},{"name":"token","description":"","recommendedTypes":[],"indexed":true},{"name":"vestingDurationInSecs","description":"","recommendedTypes":[],"indexed":false},{"name":"depositLockPeriodInSecs","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"PoolRewardWeightUpdated(uint256,uint256)","name":"PoolRewardWeightUpdated","description":"An event emitted when staked tokens are withdrawn.","parameterDecorators":[{"name":"poolId","description":"","recommendedTypes":[],"indexed":true},{"name":"rewardWeight","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"RewardRateUpdated(uint256)","name":"RewardRateUpdated","description":"An event emitted when staked tokens are withdrawn.","parameterDecorators":[{"name":"rewardRate","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"RewardVestingUpdated(address)","name":"RewardVestingUpdated","description":"An event emitted when staked tokens are withdrawn.","parameterDecorators":[{"name":"rewardVesting","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"SentinelUpdated(address)","name":"SentinelUpdated","description":"An event emitted when staked tokens are withdrawn.","parameterDecorators":[{"name":"sentinel","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"StartPoolReferralCompetition(uint256)","name":"StartPoolReferralCompetition","description":"An event emitted when staked tokens are withdrawn.","parameterDecorators":[{"name":"poolId","description":"","recommendedTypes":[],"indexed":true}]},{"signature":"StopPoolReferralCompetition(uint256)","name":"StopPoolReferralCompetition","description":"An event emitted when staked tokens are withdrawn.","parameterDecorators":[{"name":"poolId","description":"","recommendedTypes":[],"indexed":true}]},{"signature":"TokensClaimed(address,uint256,uint256)","name":"TokensClaimed","description":"An event emitted when staked tokens are withdrawn.","parameterDecorators":[{"name":"user","description":"","recommendedTypes":[],"indexed":true},{"name":"poolId","description":"","recommendedTypes":[],"indexed":true},{"name":"amount","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"TokensDeposited(address,uint256,uint256)","name":"TokensDeposited","description":"An event emitted when staked tokens are withdrawn.","parameterDecorators":[{"name":"user","description":"","recommendedTypes":[],"indexed":true},{"name":"poolId","description":"","recommendedTypes":[],"indexed":true},{"name":"amount","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"TokensWithdrawn(address,uint256,uint256)","name":"TokensWithdrawn","description":"An event emitted when staked tokens are withdrawn.","parameterDecorators":[{"name":"user","description":"","recommendedTypes":[],"indexed":true},{"name":"poolId","description":"","recommendedTypes":[],"indexed":true},{"name":"amount","description":"","recommendedTypes":[],"indexed":false}]},{"signature":"VestingDurationInSecsUpdated(uint256,uint256,uint256)","name":"VestingDurationInSecsUpdated","description":"An event emitted when staked tokens are withdrawn.","parameterDecorators":[{"name":"poolId","description":"","recommendedTypes":[],"indexed":true},{"name":"oldDurationInSecs","description":"","recommendedTypes":[],"indexed":false},{"name":"newDurationInSecs","description":"","recommendedTypes":[],"indexed":false}]}],"functionDecorators":[{"signature":"SECONDS_PER_DAY()","name":"SECONDS_PER_DAY","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"acceptGovernance()","name":"acceptGovernance","description":"","parameterDecorators":[],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"claim(uint256)","name":"claim","description":"use this function to claim the tokens from a corresponding pool by ID. Claims all rewarded tokens from a pool.","parameterDecorators":[{"name":"_poolId","description":"The pool to claim rewards from.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"createPool(address,bool,uint256,uint256)","name":"createPool","description":"Creates a new pool.","parameterDecorators":[{"name":"_token","description":"","recommendedTypes":[]},{"name":"_needVesting","description":"","recommendedTypes":[]},{"name":"_vestingDurationInSecs","description":"","recommendedTypes":[]},{"name":"_depositLockPeriodInSecs","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":false},{"signature":"deposit(uint256,uint256,address)","name":"deposit","description":"Stakes tokens into a pool.","parameterDecorators":[{"name":"_poolId","description":"the pool to deposit tokens into.","recommendedTypes":[]},{"name":"_depositAmount","description":"the amount of tokens to deposit.","recommendedTypes":[]},{"name":"referral","description":"the address of referral.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"exit(uint256)","name":"exit","description":"Claims all rewards from a pool and then withdraws all withdrawAble tokens.","parameterDecorators":[{"name":"_poolId","description":"the pool to exit from.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"getAccumulatedReferralPower(address,uint256)","name":"getAccumulatedReferralPower","description":"Gets address accumulated power.","parameterDecorators":[{"name":"_referral","description":"The referral account to get accumulated power.","recommendedTypes":[]},{"name":"_poolId","description":"The pool to check for accumulated referral power.","recommendedTypes":[]}],"returnDecorators":[{"name":"_0","description":"the amount of accumulated power a user has in a pool.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"getPoolLockPeriodInSecs(uint256)","name":"getPoolLockPeriodInSecs","description":"To get a pool lockup period in seconds.","parameterDecorators":[{"name":"_poolId","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"getPoolReferral(uint256,uint256)","name":"getPoolReferral","description":"Gets address of referral address by index.","parameterDecorators":[{"name":"_poolId","description":"The pool to get referral address.","recommendedTypes":[]},{"name":"_referralIndex","description":"the index to get referral address.","recommendedTypes":[]}],"returnDecorators":[{"name":"_0","description":"the referral address in a specifgic pool with index.","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"getPoolRewardRate(uint256)","name":"getPoolRewardRate","description":"Gets the amount of tokens per block being distributed to stakers for a pool.","parameterDecorators":[{"name":"_poolId","description":"the identifier of the pool.","recommendedTypes":[]}],"returnDecorators":[{"name":"_0","description":"the pool reward rate.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"getPoolRewardWeight(uint256)","name":"getPoolRewardWeight","description":"Gets the reward weight of a pool which determines how much of the total rewards it receives per block.","parameterDecorators":[{"name":"_poolId","description":"the identifier of the pool.","recommendedTypes":[]}],"returnDecorators":[{"name":"_0","description":"the pool reward weight.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"getPoolToken(uint256)","name":"getPoolToken","description":"Gets the token a pool accepts.","parameterDecorators":[{"name":"_poolId","description":"the identifier of the pool.","recommendedTypes":[]}],"returnDecorators":[{"name":"_0","description":"the token.","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"getPoolTotalDeposited(uint256)","name":"getPoolTotalDeposited","description":"Gets the total amount of funds staked in a pool.","parameterDecorators":[{"name":"_poolId","description":"the identifier of the pool.","recommendedTypes":[]}],"returnDecorators":[{"name":"_0","description":"the total amount of staked or deposited tokens.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"getPoolTotalReferralAmount(uint256)","name":"getPoolTotalReferralAmount","description":"Gets the total amount of referreal power in a pool.","parameterDecorators":[{"name":"_poolId","description":"the identifier of the pool.","recommendedTypes":[]}],"returnDecorators":[{"name":"_0","description":"the total amount of referreal power in pool.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"getPoolVestingDurationInSecs(uint256)","name":"getPoolVestingDurationInSecs","description":"To get a reward vesting period in seconds.","parameterDecorators":[{"name":"_poolId","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"getPoolreferee(uint256,address)","name":"getPoolreferee","description":"Gets addressed of referee referred by a referral.","parameterDecorators":[{"name":"_poolId","description":"The pool to get referral address.","recommendedTypes":[]},{"name":"referral","description":"the address of referral to find all its referees.","recommendedTypes":[]}],"returnDecorators":[{"name":"_0","description":"the address array of referees.","recommendedTypes":[],"solidityType":"address[]"}],"emittableEvents":[],"readOnly":true},{"signature":"getStakeTotalDeposited(address,uint256)","name":"getStakeTotalDeposited","description":"Gets the number of tokens a user has staked into a pool.","parameterDecorators":[{"name":"_account","description":"The account to query.","recommendedTypes":[]},{"name":"_poolId","description":"the identifier of the pool.","recommendedTypes":[]}],"returnDecorators":[{"name":"_0","description":"the amount of deposited tokens.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"getStakeTotalUnclaimed(address,uint256)","name":"getStakeTotalUnclaimed","description":"Gets the number of unclaimed reward tokens a user can claim from a pool.","parameterDecorators":[{"name":"_account","description":"The account to get the unclaimed balance of.","recommendedTypes":[]},{"name":"_poolId","description":"The pool to check for unclaimed rewards.","recommendedTypes":[]}],"returnDecorators":[{"name":"_0","description":"the amount of unclaimed reward tokens a user has in a pool.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"getUserDeposits(uint256,address)","name":"getUserDeposits","description":"get all user current deposits.","parameterDecorators":[{"name":"_poolId","description":"","recommendedTypes":[]},{"name":"_account","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"tuple[]"}],"emittableEvents":[],"readOnly":true},{"signature":"getWithdrawableAmount(uint256,address)","name":"getWithdrawableAmount","description":"To get withdrawable amount that has passed lockup period of a pool.","parameterDecorators":[{"name":"_poolId","description":"","recommendedTypes":[]},{"name":"_account","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"governance()","name":"governance","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"isPoolReferralProgramOn(uint256)","name":"isPoolReferralProgramOn","description":"","parameterDecorators":[{"name":"_poolId","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"myReferral(address,uint256)","name":"myReferral","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]},{"name":"param1","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"myreferees(uint256,address,uint256)","name":"myreferees","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]},{"name":"param1","description":"","recommendedTypes":[]},{"name":"param2","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"nextReferral(uint256)","name":"nextReferral","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"pause()","name":"pause","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"pendingGovernance()","name":"pendingGovernance","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"poolCount()","name":"poolCount","description":"Gets the number of pools that exist.","parameterDecorators":[],"returnDecorators":[{"name":"_0","description":"the pool count.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"referralIsKnown(address,uint256)","name":"referralIsKnown","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]},{"name":"param1","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"bool"}],"emittableEvents":[],"readOnly":true},{"signature":"referralList(uint256,uint256)","name":"referralList","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]},{"name":"param1","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"reward()","name":"reward","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"rewardRate()","name":"rewardRate","description":"Gets the rate at which tokens are minted to stakers for all pools.","parameterDecorators":[],"returnDecorators":[{"name":"_0","description":"the reward rate.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"rewardVesting()","name":"rewardVesting","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"sentinel()","name":"sentinel","description":"","parameterDecorators":[],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"address"}],"emittableEvents":[],"readOnly":true},{"signature":"setPause(bool)","name":"setPause","description":"Sets if the contract should enter emergency pause mode. There are 2 main reasons to pause: 1. Need to shut down claims in case of any issues in the reward vesting contract 2. Need to migrate to a new reward vesting contract While this contract is paused, claim is disabled.","parameterDecorators":[{"name":"_pause","description":"if the contract should enter emergency pause mode.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setPendingGovernance(address)","name":"setPendingGovernance","description":"Sets the governance. This function can only called by the current governance.","parameterDecorators":[{"name":"_pendingGovernance","description":"the new pending governance.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setPoolLockUpPeriodInSecs(uint256,uint256)","name":"setPoolLockUpPeriodInSecs","description":"To update a pool's lockup period. Update a pool's lockup period will affect all current deposits. i.e. if set lock up period to 0, will unlock all current desposits.","parameterDecorators":[{"name":"_poolId","description":"","recommendedTypes":[]},{"name":"_newLockUpPeriodInSecs","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setPoolVestingDurationInSecs(uint256,uint256)","name":"setPoolVestingDurationInSecs","description":"to change a pool's reward vesting period. Change a pool's reward vesting period. Reward already in vesting schedule won't be affected by this update.","parameterDecorators":[{"name":"_poolId","description":"","recommendedTypes":[]},{"name":"_newVestingDurationInSecs","description":"","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setRewardRate(uint256)","name":"setRewardRate","description":"Sets the distribution reward rate. This will update all of the pools.","parameterDecorators":[{"name":"_rewardRate","description":"The number of tokens to distribute per second.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setRewardVesting(address)","name":"setRewardVesting","description":"Updates the reward vesting contract.","parameterDecorators":[{"name":"_rewardVesting","description":"the new reward vesting contract.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setRewardWeights(uint256[])","name":"setRewardWeights","description":"Sets the reward weights of all of the pools.","parameterDecorators":[{"name":"_rewardWeights","description":"The reward weights of all of the pools.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"setSentinel(address)","name":"setSentinel","description":"Sets the address of the sentinel.","parameterDecorators":[{"name":"_sentinel","description":"address of the new sentinel.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"startReferralBonus(uint256)","name":"startReferralBonus","description":"To start referral power calculation for a pool, referral power caculation won't turn on if the onReferralBonus is not set.","parameterDecorators":[{"name":"_poolId","description":"the pool to start referral power accumulation.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"stoptReferralBonus(uint256)","name":"stoptReferralBonus","description":"To stop referral power calculation for a pool, referral power caculation won't turn on if the onReferralBonus is not set.","parameterDecorators":[{"name":"_poolId","description":"the pool to stop referral power accumulation.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false},{"signature":"tokenPoolIds(address)","name":"tokenPoolIds","description":"","parameterDecorators":[{"name":"param0","description":"","recommendedTypes":[]}],"returnDecorators":[{"name":"param0","description":"","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"totalRewardWeight()","name":"totalRewardWeight","description":"Gets the total reward weight between all the pools.","parameterDecorators":[],"returnDecorators":[{"name":"_0","description":"the total reward weight.","recommendedTypes":[],"solidityType":"uint256"}],"emittableEvents":[],"readOnly":true},{"signature":"withdraw(uint256,uint256)","name":"withdraw","description":"Withdraws staked tokens from a pool.","parameterDecorators":[{"name":"_poolId","description":"The pool to withdraw staked tokens from.","recommendedTypes":[]},{"name":"_withdrawAmount","description":"The number of tokens to withdraw.","recommendedTypes":[]}],"returnDecorators":[],"emittableEvents":[],"readOnly":false}]}